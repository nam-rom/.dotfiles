!function(e){function t(t){for(var n,c,i=t[0],r=t[1],o=t[2],d=0,u=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(l,c)&&l[c]&&u.push(l[c][0]),l[c]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);for(m&&m(t);u.length;)u.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var r=a[i];0!==l[r]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},l={3:0},s=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="./";var i=window.webpackJsonp=window.webpackJsonp||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var m=r;s.push([520,0]),a()}({520:function(e,t,a){a(70),e.exports=a(536)},521:function(e,t,a){},536:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a(0),s=a.n(l),c=a(28),i=a.n(c),r=a(23),o=a(49),m=a(22),d=a(48),u=a(7),h=a.n(u),E=a(5),p=a(6),b=(a(112),a(521),a(40)),g=a(86),v=a(10),N=a(102),f=a(64),C=a(42),k=a(4),y=a.n(k);function x(e){const{close:t}=e,[a,n]=Object(l.useState)(""),[c,i]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{Object(r.b)().then(({debugInfo:e})=>{n(JSON.stringify(e,null,2))}).catch(e=>{n("No debug info: "+JSON.stringify(e))})},[]),s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title has-text-grey-light"},"Debug info"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:t})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("p",null,"Send this data to the developer via email, ",s.a.createElement("b",null,"only")," if you have been asked to do so.",s.a.createElement("br",null),s.a.createElement("span",{className:"has-text-danger"},"Do not share this information publicly!")),s.a.createElement("br",null),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("textarea",{className:"textarea is-primary debug-text",placeholder:"Collecting info...",value:a,rows:"25",readOnly:!0}))),s.a.createElement("button",{className:"button is-primary is-small is-pulled-right",onClick:()=>{Object(C.a)(a),i(!0)},disabled:c},c?"Copied":"Copy")))))}x.propTypes={close:y.a.func};var S=x;function w(e){const{handleChange:t,settings:a,onNavigate:n}=e,c=Object(l.useCallback)(()=>{n("cloud")},[n]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"section-header"},"Local History Auto-Clean"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12 has-text-grey"},s.a.createElement("small",null,'These settings are applicable to local history list only ("All")',s.a.createElement("br",null),"You also may configure Auto-Clean options for ",s.a.createElement("a",{href:"#cloud",onClick:c},"Cloud Pro"),".")),s.a.createElement("div",{className:"column is-7 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"isTimeLimited",checked:a.isTimeLimited,onChange:t}),"Remove items older than")),s.a.createElement("div",{className:"column is-5"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{className:"input",type:"number",placeholder:"count",min:1,pattern:"[0-9]*",name:"timeCount",onChange:t,value:a.timeCount,disabled:!a.isTimeLimited})),s.a.createElement("div",{className:"control"},s.a.createElement("div",{className:"select"},s.a.createElement("select",{name:"timePeriod",onChange:t,disabled:!a.isTimeLimited,value:a.timePeriod},s.a.createElement("option",{value:"m"},"minutes"),s.a.createElement("option",{value:"h"},"hours"),s.a.createElement("option",{value:"d"},"days"),s.a.createElement("option",{value:"w"},"weeks"),s.a.createElement("option",{value:"M"},"month")))))),s.a.createElement("div",{className:"column is-7 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"isItemsLimited",onChange:t,checked:a.isItemsLimited}),"Maximum number of stored items")),s.a.createElement("div",{className:"column is-5 is-5-mobile"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{className:"input",type:"number",placeholder:"count",min:1,name:"itemsLimit",pattern:"[0-9]*",onChange:t,value:a.itemsLimit,disabled:!a.isItemsLimited}))),s.a.createElement("div",{className:"column is-7 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"isCharsLimited",onChange:t,checked:a.isCharsLimited}),"Do not save text bigger than")),s.a.createElement("div",{className:"column is-5"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{className:"input",type:"number",placeholder:"count",min:1,pattern:"[0-9]*",name:"charsLimit",onChange:t,value:a.charsLimit,disabled:!a.isCharsLimited})),s.a.createElement("p",{className:"control"},s.a.createElement("a",{className:h()("button is-static",{"no-border-color":!a.isCharsLimited})},"symbols"))))),s.a.createElement("h3",{className:"section-header"},"Sort history by"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"radio"},s.a.createElement("input",{type:"radio",name:"sortMethod",value:"dateAdded",checked:"dateAdded"===a.sortMethod,onChange:t}),s.a.createElement("span",null,"date created"),s.a.createElement("small",{className:"has-text-grey"}," (never move items)")),s.a.createElement("br",null),s.a.createElement("label",{className:"radio"},s.a.createElement("input",{type:"radio",name:"sortMethod",value:"dateLastCopied",checked:"dateLastCopied"===a.sortMethod,onChange:t}),s.a.createElement("span",null,"date used"),s.a.createElement("small",{className:"has-text-grey"}," (recently used items move on top)"))))))}var O=a(45),P=a(15),T=a(78);class L extends l.PureComponent{constructor(e){super(e),this.state={error:null,importFile:null,exported:!1,exportedFileName:"",exportedEmpty:!1,importing:!1,imported:!1,importErrText:"",isFiltersDisabled:!1},this.handleFileChange=this.handleFileChange.bind(this),this.handleExport=this.handleExport.bind(this),this.handleImport=this.handleImport.bind(this)}handleFileChange(e){const t=e.target.files[0];t&&this.setState({importFile:t,isFiltersDisabled:!1})}handleImport(){this.setState({importing:!0}),Object(O.a)(this.state.importFile).then(P.l).then(e=>{const t=e.settingsDisabled&&e.settingsDisabled.length;t&&e.settingsDisabled.forEach(e=>{this.props.set({[e]:!1})}),this.setState({importing:!1,imported:!0,importFile:null,isFiltersDisabled:t})}).catch(e=>{"string"==typeof e&&e.startsWith("cannot_parse")?this.setState({importing:!1,importErrText:"The file does not seems to be a backup or it is corrupted. Please reload the page and try another file."}):(this.setState({importErrText:"Something went wrong",importing:!1}),m.a(e))}),Object(n.a)("Options","Import")}handleExport(){Object(T.a)().then(e=>{this.setState({exported:!0,exportedFileName:e,exportedEmpty:!1})}).catch(e=>{"no_items"===e?this.setState({exportedEmpty:!0}):m.a(e)}),Object(n.a)("Options","Export")}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"section-header"},"Backup"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12"},s.a.createElement("p",null,"Export clipboard history items"),s.a.createElement("br",null),s.a.createElement("button",{className:"button is-info",onClick:this.handleExport,disabled:this.state.exported},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.u})),s.a.createElement("span",null,"Save backup file"))),s.a.createElement("div",{className:h()("column is-12",{"is-hidden":!this.state.exported})},s.a.createElement("div",{className:"notification is-success"},"Saved file: ",s.a.createElement("br",null)," ",s.a.createElement("strong",null,this.state.exportedFileName))),s.a.createElement("div",{className:h()("column is-12 has-text-warning",{"is-hidden":!this.state.exportedEmpty})},s.a.createElement("div",{className:"notification is-warning"},"There are no items for export"))),s.a.createElement("h3",{className:"section-header"},"Restore"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12"},s.a.createElement("p",null,"Import clipboard history from file.",s.a.createElement("br",null),s.a.createElement("small",{className:"has-text-grey"},"Your current items will not disappear and will be combined with items from backup.")),s.a.createElement("br",null),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8 is-7-mobile"},s.a.createElement("div",{className:"file has-name is-fullwidth"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"resume",onChange:this.handleFileChange}),s.a.createElement("div",{className:"file-cta"},s.a.createElement("span",{className:"file-icon"},s.a.createElement(E.a,{icon:p.P})),s.a.createElement("span",{className:"file-label"},"Choose a file")),s.a.createElement("div",{className:"file-name"},this.state.importFile?this.state.importFile.name:"")))),s.a.createElement("div",{className:"column is-3"},s.a.createElement("button",{className:h()("button is-info",{"is-outlined":!this.state.importFile,"is-loading":this.state.importing}),onClick:this.handleImport,disabled:this.state.importErrText||!this.state.importFile},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.v})),s.a.createElement("span",null,"Import backup file"))))),s.a.createElement("div",{className:h()("column is-12",{"is-hidden":!this.state.imported||this.state.importFile})},s.a.createElement("div",{className:"notification is-success"},s.a.createElement("span",null,"Items from backup file has been successfully imported"))),s.a.createElement("div",{className:h()("column is-12",{"is-hidden":!this.state.isFiltersDisabled})},s.a.createElement("div",{className:"notification is-info"},s.a.createElement("span",null,"Auto-cleaning has been disabled in order to keep the whole history.",s.a.createElement("br",null),"Please press Save & Close to keep restored items"))),s.a.createElement("div",{className:h()("column is-12",{"is-hidden":!this.state.importErrText})},s.a.createElement("div",{className:"notification is-danger"},this.state.importErrText))))}}var I=L,j=a(8);function F(e){const{handleChange:t,settings:a}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"section-header"},"Interface"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"showBadgeCount",onChange:t,checked:a.showBadgeCount}),"Show number of clipboard items on the extension icon")),s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"copyFreshlyMerged",onChange:t,checked:a.copyFreshlyMerged}),"Auto-copy freshly merged items")),s.a.createElement("div",{className:"column is-5 vertical-center"},s.a.createElement("span",null,"Context menu mode")),s.a.createElement("div",{className:"column is-7"},s.a.createElement("div",{className:"select fullwidth-select-box"},s.a.createElement("select",{name:"contextMenuMode",onChange:t,value:a.contextMenuMode},s.a.createElement("option",{value:"smart"},"Show only recent when no favorites"),s.a.createElement("option",{value:"favorites"},"Show only favorites"),s.a.createElement("option",{value:"recent"},"Show only recent"),s.a.createElement("option",{value:"both"},"Show recent and favorites"),s.a.createElement("option",{value:"disabled"},"Disabled")))),s.a.createElement("div",{className:"column is-5 vertical-center"},s.a.createElement("span",null,"Default view mode")),s.a.createElement("div",{className:"column is-7"},s.a.createElement("div",{className:"select fullwidth-select-box"},s.a.createElement("select",{name:"defaultViewMode",onChange:t,value:a.defaultViewMode},s.a.createElement("option",{value:j.a.ALL},"All items"),s.a.createElement("option",{value:j.a.FAV},"Favorites list"),s.a.createElement("option",{value:j.a.CLOUD_PRO},"Cloud Pro items")))),s.a.createElement("div",{className:"column is-5 vertical-center"},s.a.createElement("span",null,"Selected text action")),s.a.createElement("div",{className:"column is-7"},s.a.createElement("div",{className:"select fullwidth-select-box"},s.a.createElement("select",{name:"selectedTextAction",onChange:t,value:a.selectedTextAction},s.a.createElement("option",{value:"auto"},"Auto"),s.a.createElement("option",{value:"send"},"Send to Cloud Pro (requires Pro)"),s.a.createElement("option",{value:"save"},"Save to clipboard list"),s.a.createElement("option",{value:"fav"},"Save to favorites list"),s.a.createElement("option",{value:"none"},"None")))),s.a.createElement("div",{className:"column is-5 vertical-center"},s.a.createElement("span",null,"Color mode")),s.a.createElement("div",{className:"column is-7"},s.a.createElement("div",{className:"select fullwidth-select-box"},s.a.createElement("select",{name:"theme",onChange:t,value:a.theme},s.a.createElement("option",{value:"auto"},"Auto (System preference)"),s.a.createElement("option",{value:"light"},"Light"),s.a.createElement("option",{value:"dark"},"Dark"))))))}var A=a(14),D=a(33);const M=v.m+"?utm_campaign=options&utm_medium=extension&utm_source=lock_tab#lock-feature",_=v.m+"?utm_campaign=options&utm_medium=extension&utm_source=widget_tab#clipboard-widget-feature",R=v.m+"?utm_campaign=options&utm_medium=extension&utm_source=interface_tab#mobile-sync";var H=function(e){const[t,a]=Object(l.useState)(!1),[n,c]=Object(l.useState)(""),{callback:i}=e,r=Object(l.useRef)();Object(l.useEffect)(()=>{r&&r.current&&r.current.focus()});const o=()=>{i(null)};return s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-content lock-code-body"},s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title has-text-grey-light"},"Set lock password"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:o})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("div",{className:"field has-addons is-medium"},s.a.createElement("div",{className:"control is-expanded"},s.a.createElement("input",{className:"input has-text-centered is-medium",ref:r,value:n,onChange:e=>{c(e.target.value)},type:t?"text":"password"})),s.a.createElement("div",{className:"control"},s.a.createElement("a",{className:h()("button has-icons-left has-text-grey-light is-medium",{"is-active":t}),onClick:()=>{a(!t)},title:"Show password"},s.a.createElement("small",{className:"icon"},s.a.createElement(E.a,{icon:p.t,size:"xs"}))))),s.a.createElement("p",{className:"has-text-grey"},s.a.createElement("small",null,"Please remember your password, it cannot be restored.")),s.a.createElement("p",{className:"has-text-grey"},s.a.createElement("small",null,"Do not forget to click Save & Close."))),s.a.createElement("footer",{className:"modal-card-foot"},s.a.createElement("button",{className:"button",onClick:o},"Cancel"),s.a.createElement("button",{className:"button is-info",onClick:()=>i(n)},"Set code")))))};function B(e){return s.a.createElement("div",{className:"notification is-warning no-subs-box"},"This option is for users with activated ",s.a.createElement("strong",null,"Pro features"),".",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("a",{className:"button is-success is-fullwidth",onClick:()=>{Object(A.f)(),Object(n.a)("Options","TryPro",e.clickSource)}},"Try Pro features free for two weeks"))}function U(e){const{handleChange:t,settings:a,hasSubs:n,set:c}=e,[i,r]=Object(l.useState)(!1);return s.a.createElement(s.a.Fragment,null,i&&s.a.createElement(H,{callback:t=>{if(r(!1),!t||"string"!=typeof t)return void c("lockEnabled",!1);const a=Object(A.a)(t,e.settings.guid);c("lockCodeHash",a),e.settings.lockEnabled||c("lockEnabled",!0)}}),!n&&s.a.createElement(B,{clickSource:"lock"}),s.a.createElement("h3",{className:"section-header"},"Lock"),s.a.createElement("div",{className:h()("columns is-multiline",{"no-subs-section":!n})},s.a.createElement("div",{className:"column is-4 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"lockEnabled",onChange:e=>{a.lockCodeHash?t(e):r(!0)},checked:a.lockEnabled,disabled:!n}),"Enable Lock feature")),s.a.createElement("div",{className:"column is-7 is-5-mobile"},s.a.createElement("button",{className:"button is-fullwidth",onClick:()=>{r(!0)},disabled:!a.lockEnabled||!n},"Set password")),s.a.createElement("div",{className:"column is-4 vertical-center"},s.a.createElement("span",null,"Auto-Lock timer")),s.a.createElement("div",{className:"column is-7"},s.a.createElement("div",{className:"select is-full"},s.a.createElement("select",{name:"lockTimer",onChange:t,disabled:!a.lockEnabled||!n,value:a.lockTimer},s.a.createElement("option",{value:D.a.OFF},"off (lock manually)"),s.a.createElement("option",{value:D.a.IMMEDIATELY},"Immediately"),s.a.createElement("option",{value:D.a.TIME_30S},"30 seconds"),s.a.createElement("option",{value:D.a.TIME_1M},"1 minute"),s.a.createElement("option",{value:D.a.TIME_5m},"5 minutes"),s.a.createElement("option",{value:D.a.TIME_15m},"15 minutes")))),s.a.createElement("div",{className:"column is-10 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"lockChangeBadge",onChange:t,checked:a.lockChangeBadge,disabled:!n}),"Change icon color to yellow when history is locked")),s.a.createElement("div",{className:"column is-8 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"lockButtonHidden",onChange:t,checked:a.lockButtonHidden,disabled:!n}),"Do not show Lock button in the popup header")),s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("small",{className:"has-text-grey"},"Please note that paste from context menu will not be possible when history is locked.",s.a.createElement("br",null)),s.a.createElement("a",{href:M,className:"external-link",target:"_blank",rel:"noopener noreferrer"},"> Read more about Lock"))))}var W=a(26);function G(e){const{handleChange:t,settings:a,hasSubs:n}=e;return s.a.createElement(s.a.Fragment,null,!n&&s.a.createElement(B,{clickSource:"widget"}),s.a.createElement("h3",{className:"section-header"},"Clipboard Widget"),s.a.createElement("div",{className:h()("columns is-multiline",{"no-subs-section":!n})},s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"pageWidgetContext",onChange:t,checked:a.pageWidgetContext,disabled:!n}),'Show "Run Clipboard Widget" in the context menu')),s.a.createElement("div",{className:"column is-8"},s.a.createElement("button",{className:"button is-outlined",disabled:!n,onClick:()=>e.clickShortcuts("widget")},s.a.createElement("span",{className:"icon"},s.a.createElement(E.a,{icon:W.d})),s.a.createElement("span",null,"Configure widget run shortcut"))),s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("a",{href:_,className:"external-link",target:"_blank",rel:"noopener noreferrer"},"> Read more about Clipboard Widget"))))}function K(e){const{handlePermissionChange:t,permissions:a,catchErr:n}=e,[c,i]=Object(l.useState)(!1);return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"section-header"},"Permissions"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("label",{className:"checkbox has-text-grey"},s.a.createElement("input",{type:"checkbox",checked:!0,disabled:!0}),"Read & change clipboard"),s.a.createElement("div",null,s.a.createElement("small",{className:"has-text-grey is-small"},"The core permission required by the extension"))),s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"tabs",onChange:t,checked:a.tabs}),"Detect source URL of copied text"),s.a.createElement("div",null,s.a.createElement("small",{className:"has-text-grey is-small"},"Allows to detect and save the URL, where a text was copied from")))),s.a.createElement("h3",{className:"section-header"},"Popup keyboard navigation"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12"},"You can use arrows ",s.a.createElement("kbd",null,"up")," and ",s.a.createElement("kbd",null,"down")," to navigate items, ",s.a.createElement("kbd",null,"Enter")," to copy chosen and ",s.a.createElement("kbd",null,"f")," to switch between view modes."),s.a.createElement("div",{className:"column is-12"},s.a.createElement("a",{href:"#",onClick:()=>e.clickShortcuts("popup")},s.a.createElement("span",null,"Configure global keyboard shortcuts")))),s.a.createElement("h3",{className:"section-header"},"Danger zone"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"isTimeLimited",checked:c,onChange:e=>i(e.target.checked)}),"I want to reset all settings to defaults")),s.a.createElement("div",{className:"column is-12"},s.a.createElement("button",{className:h()("button is-danger",{"is-outlined":!c}),disabled:!c,onClick:()=>{Object(b.a)().catch(n)}},"Reset settings & reload extension now"))))}var Y=a(103);function z(e){const{cloudProAuthInfo:t,signOut:a,hasSubs:l,settings:c,handleChange:i}=e,r=()=>{Object(n.a)("Options","AppsLink")};return s.a.createElement(s.a.Fragment,null,!l&&s.a.createElement(B,{clickSource:"cloudPro"}),s.a.createElement("div",{className:h()({"no-subs-section":!l})},s.a.createElement("h3",{className:"section-header"},"Cloud Pro Auto-Clean"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-7 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"isCloudProItemsLimited",onChange:i,checked:c.isCloudProItemsLimited}),"Maximum number of stored items")),s.a.createElement("div",{className:"column is-5 is-5-mobile"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{className:"input",type:"number",placeholder:"count",min:1,name:"cloudProItemsLimit",pattern:"[0-9]*",onChange:i,value:c.cloudProItemsLimit,disabled:!c.isCloudProItemsLimited}))),s.a.createElement("div",{className:"column is-7 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"isCloudProTimeLimited",checked:c.isCloudProTimeLimited,onChange:i}),"Remove items older than")),s.a.createElement("div",{className:"column is-5"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{className:"input",type:"number",placeholder:"count",min:1,pattern:"[0-9]*",name:"cloudProTimeCount",onChange:i,value:c.cloudProTimeCount,disabled:!c.isCloudProTimeLimited})),s.a.createElement("div",{className:"control"},s.a.createElement("div",{className:"select"},s.a.createElement("select",{name:"cloudProTimePeriod",onChange:i,disabled:!c.isCloudProTimeLimited,value:c.cloudProTimePeriod},s.a.createElement("option",{value:"m"},"minutes"),s.a.createElement("option",{value:"h"},"hours"),s.a.createElement("option",{value:"d"},"days"),s.a.createElement("option",{value:"w"},"weeks"),s.a.createElement("option",{value:"M"},"month"))))))),s.a.createElement("h3",{className:"section-header"},"Sync"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"autoSyncCloudPro",onChange:i,checked:c.autoSyncCloudPro}),"Automatically send new text to Cloud Pro (Not-recommended!)"),s.a.createElement("br",null),s.a.createElement("small",{className:"has-text-grey"},"When enabled, the extension will send every new item from the extension to the Cloud Pro.",s.a.createElement("br",null),"It is not recommended, as it might sync the data you do not want to send.")),s.a.createElement("div",{className:"column is-12 vertical-center"},s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"syncItemsDeletion",onChange:i,checked:c.syncItemsDeletion}),"Synchronize items deletion between local list and Cloud Pro"),s.a.createElement("br",null),s.a.createElement("small",{className:"has-text-grey"},"Deleted local items will be also removed from the Cloud Pro database and vice versa."))),s.a.createElement("h3",{className:"section-header"},"Cloud Pro account"),s.a.createElement("div",{className:"columns is-multiline"},s.a.createElement("div",{className:"column is-12"},t&&t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"user-account"},t.photoURL&&s.a.createElement("figure",{className:"image is-32x32 is-pulled-left avatar"},s.a.createElement("img",{className:"is-rounded",src:t.photoURL,alt:"User avatar"})),s.a.createElement("span",null,t.email),s.a.createElement("a",{className:"button is-text is-small",onClick:a},"Sign Out")),s.a.createElement("small",{className:"has-text-grey"},"Use the same account in the ",s.a.createElement("a",{href:R,className:"external-link",rel:"noopener noreferrer",target:"_blank",onClick:r},"mobile apps")," to sync with Cloud Pro")):s.a.createElement(Y.a,null)))))}const J={INTERFACE:"interface",BACKUP:"backup",HISTORY:"history",CLOUD:"cloud",LOCK:"lock",WIDGET:"widget",OTHER:"other"};class V extends l.Component{constructor(e){super(e),this.state={error:null,currentTab:J.INTERFACE,changedNames:new Set,settings:{...e.settings},permissions:{...e.permissions},locked:!1,showDebug:!1,cloudProAuthInfo:null},this.handleChange=this.handleChange.bind(this),this.handleSetSettings=this.handleSetSettings.bind(this),this.handlePermissionChange=this.handlePermissionChange.bind(this),this.handleSetGlobalLockedState=this.handleSetGlobalLockedState.bind(this),this.handleSignOut=this.handleSignOut.bind(this),this.set=this.set.bind(this),this.catchErr=this.catchErr.bind(this)}componentDidMount(){Object(g.a)().then(e=>{this.setState({cloudProAuthInfo:e})}),this.state.settings&&this.state.settings.lockEnabled&&this.setState({locked:!0});const e=(document.location.hash||"").replace("#","");Object.values(J).includes(e)&&this.setState({currentTab:e}),this.startMessageListener()}startMessageListener(){chrome.runtime.onMessage.addListener((e={})=>{switch(e.action){case"updateFbAuthStatus":window.location.reload()}})}handleTabChange(e){this.setState({currentTab:e}),Object.values(J).includes(e)&&(document.location.hash=e),Object(n.a)("Options","Tab",e)}handleChange(e){const t=e.target.name,{settings:a}=this.state;let l="";if("checkbox"===e.target.type)l=e.target.checked;else if("number"===e.target.type){const n=a[t];e.target.validity.valid?(l=parseInt(e.target.value),0===l&&(l=1),isNaN(l)&&(l="")):l=n}else l=e.target.value;"lockEnabled"!==t||a.lockCodeHash?this.set(t,l):this.setState({lockCodeInputShown:!0}),Object(n.a)("Options","Set",t,l)}async handlePermissionChange(e){const t=e.target.name,{permissions:a}=this.state;let l;if(e.target.checked)l=await r.e(t);else{if(!confirm("Are you sure you want to revoke this permission?"))return;l=!await r.d(t)}a[t]=l,this.setState({permissions:a}),Object(n.a)("Options","SetPermission",t)}set(e,t){const{settings:a,changedNames:n}=this.state;a[e]=t,n.add(e),this.setState({settings:a,changedNames:n})}handleSetSettings(){const{settings:e,changedNames:t}=this.state,a={};t.forEach(t=>{a[t]=e[t]}),Object(b.b)(a).then(()=>{Object(N.a)()}).catch(this.catchErr)}static handleClickShortcuts(e){chrome.tabs.create({url:"chrome://extensions/shortcuts"}),Object(n.a)("Options","Shortcuts",e)}handleSetGlobalLockedState(e){this.setState({locked:e}),e&&r.g()}switchDebug(e){this.setState({showDebug:e})}handleSignOut(){Object(g.b)().then(()=>{this.setState({cloudProAuthInfo:null})}).catch(this.catchErr),Object(n.a)("CloudPro","SignOut","options")}catchErr(e){this.setState({error:e.message?e.message:e}),m.a(e)}render(){const{settings:e,showDebug:t,permissions:a,currentTab:n,cloudProAuthInfo:l}=this.state,{hasSubs:c}=this.props,i=!this.state.changedNames.size;return this.state.error?s.a.createElement("div",{className:"notification is-danger"},"Something went wrong. Please try later."):this.state.settings&&this.state.settings.lockEnabled&&this.state.locked&&c?s.a.createElement(f.a,{setLockedState:this.handleSetGlobalLockedState,title:"Please unlock the Options page",unlockAction:r.h}):s.a.createElement(s.a.Fragment,null,s.a.createElement("header",{className:"header"},s.a.createElement("img",{src:"imgs/128.png",alt:"Extension logo",className:"logo"})),s.a.createElement("nav",null,t&&s.a.createElement(S,{close:()=>this.switchDebug(!1)}),s.a.createElement("div",{className:"tabs is-centered view-tabs"},s.a.createElement("ul",null,s.a.createElement("li",{className:h()({"is-active":n===J.INTERFACE})},s.a.createElement("a",{onClick:()=>this.handleTabChange(J.INTERFACE)},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.H})),s.a.createElement("span",null,"Interface"))),s.a.createElement("li",{className:h()({"is-active":n===J.BACKUP})},s.a.createElement("a",{onClick:()=>this.handleTabChange(J.BACKUP)},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.F})),s.a.createElement("span",null,"Backup"))),s.a.createElement("li",{className:h()({"is-active":n===J.HISTORY})},s.a.createElement("a",{onClick:()=>this.handleTabChange(J.HISTORY)},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.m})),s.a.createElement("span",null,"History List"))),s.a.createElement("li",{className:h()({"is-active":n===J.CLOUD})},s.a.createElement("a",{onClick:()=>this.handleTabChange(J.CLOUD)},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.B})),s.a.createElement("span",null,"Cloud Pro"))),s.a.createElement("li",{className:h()({"is-active":n===J.LOCK})},s.a.createElement("a",{onClick:()=>this.handleTabChange(J.LOCK)},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.z})),s.a.createElement("span",null,"Lock"))),s.a.createElement("li",{className:h()({"is-active":n===J.WIDGET})},s.a.createElement("a",{onClick:()=>this.handleTabChange(J.WIDGET)},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.y})),s.a.createElement("span",null,"Page Widget"))),s.a.createElement("li",{className:h()({"is-active":n===J.OTHER})},s.a.createElement("a",{onClick:()=>this.handleTabChange(J.OTHER)},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.N})),s.a.createElement("span",null,"Other")))))),s.a.createElement("main",{className:"content-container"},s.a.createElement("div",{className:"tabs-content-box"},n===J.HISTORY&&s.a.createElement(w,{handleChange:this.handleChange,onNavigate:e=>this.handleTabChange(e),settings:e}),n===J.BACKUP&&s.a.createElement(I,{handleChange:this.handleChange,settings:e,set:this.set,export:this.handleExport}),n===J.INTERFACE&&s.a.createElement(F,{handleChange:this.handleChange,settings:e}),n===J.CLOUD&&s.a.createElement(z,{settings:e,handleChange:this.handleChange,hasSubs:c,signOut:this.handleSignOut,cloudProAuthInfo:l}),n===J.LOCK&&s.a.createElement(U,{handleChange:this.handleChange,settings:e,hasSubs:c,set:this.set}),n===J.WIDGET&&s.a.createElement(G,{handleChange:this.handleChange,settings:e,hasSubs:c,clickShortcuts:V.handleClickShortcuts}),n===J.OTHER&&s.a.createElement(K,{handleChange:this.handleChange,handlePermissionChange:this.handlePermissionChange,settings:e,permissions:a,hasSubs:c,signOut:this.handleSignOut,cloudProAuthInfo:l,clickShortcuts:V.handleClickShortcuts,catchErr:this.catchErr})),s.a.createElement("div",{className:"column is-12"},s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:h()("button is-success is-medium",{"is-outlined":i}),onClick:this.handleSetSettings,disabled:i},s.a.createElement("span",{className:"icon is-small"},s.a.createElement(E.a,{icon:p.i})),s.a.createElement("span",null,"Save & Close")))),s.a.createElement("div",{className:"column is-12 has-text-centered is-size-7 has-text-grey-light"},s.a.createElement("br",null),s.a.createElement("span",null,"v","3.13.0"),s.a.createElement("span",{className:"footer-separator"}),s.a.createElement("span",null,s.a.createElement("a",{href:v.j,className:"has-text-grey-light",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")),s.a.createElement("span",{className:"footer-separator"}),s.a.createElement("span",null,s.a.createElement("a",{onClick:()=>this.switchDebug(!0),className:"has-text-grey-light"},"Debug info")))))}}var q=V;(new d.a).applyTheme(),Object(o.a)(),Object(n.e)("Options"),Object(r.c)().then(e=>{i.a.render(s.a.createElement(q,e),document.getElementById("root"))}).catch(e=>{i.a.render(s.a.createElement("h1",{className:"title has-text-centered",style:{padding:"40px"}},"Oops, something went wrong :("),document.getElementById("root")),console.error(e),m.a(e)})}});