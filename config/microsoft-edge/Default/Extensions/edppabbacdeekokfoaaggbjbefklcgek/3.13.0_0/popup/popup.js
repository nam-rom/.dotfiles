!function(e){function t(t){for(var s,l,o=t[0],r=t[1],c=t[2],d=0,h=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&h.push(n[l][0]),n[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);for(m&&m(t);h.length;)h.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(s=!1)}s&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},n={5:0},i=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="./";var o=window.webpackJsonp=window.webpackJsonp||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var m=r;i.push([304,0]),a()}({304:function(e,t,a){a(70),e.exports=a(533)},305:function(e,t,a){},533:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a(0),i=a.n(n),l=a(28),o=a.n(l),r=(a(112),a(305),a(49)),c=a(48),m=a(22),d=a(15),h=a(40),u=a(43),p=a(23),b=a(9);var E=a(10),g=a(14),f=a(78),v=a(225),w=a.n(v),N=a(84),k=a(77),S=a(8),C=a(76),x=a.n(C);var y=function(e,t,{setState:a,itemActions:s,appActions:n}){const i=t.items.size,l=t.viewMode;let o,r=t.focusItemIndex,c=l;switch(e){case"down":case"up":null===r?r=0:r+="down"===e?1:-1,r=r>0?r:0,r=r+1<=i?r:i-1,a({focusItemIndex:r}),o=document.querySelector(".history-item.focused"),o&&o.scrollIntoView({behavior:"smooth",block:"center"});break;case"f":c=l===S.a.ALL?S.a.FAV:Object(S.d)(l)?S.a.CLOUD_PRO:S.a.ALL,n.setViewMode(c);break;case"enter":if(null!==r){const e=Array.from(t.items.values())[r];e&&s.setActive(e.hash,l),t.isFloatingMode||setTimeout(()=>window.close(),E.k)}}};var O=function(){return new Promise(e=>{chrome.tabs.getCurrent(t=>{"object"==typeof t?(document.body.classList.add("responsive"),Object(s.e)("PopupFloating"),e(!0)):e(!1)})})},A=a(64),P=a(7),j=a.n(P);const M={danger:"is-danger",info:"is-info",success:"is-success",warning:"is-warning"};let I=null;clearTimeout(I);var D=e=>{if(!e.title&&!e.message)return null;const{autoClose:t=!0}=e,a=M[e.type||"info"],s=!!e.wider&&"wider",n=e.dismiss;return t&&(clearTimeout(I),I=setTimeout(()=>{n&&n()},1e4)),i.a.createElement("div",{className:j()("notification app-notification",a,s)},i.a.createElement("button",{className:"delete",onClick:e.dismiss}),i.a.createElement("strong",null,e.title),i.a.createElement("div",{className:"is-size-7"},e.message))},T=a(5),F=a(26),L=a(42);var _=()=>{const e=encodeURIComponent(E.c),[t,a]=Object(n.useState)(!1),l=e=>{Object(s.a)("Burger","Share",e)};return i.a.createElement("div",{className:"share-box"},i.a.createElement("div",{className:"share-title"},"Tell about the extension"),i.a.createElement("a",{className:"resp-sharing-button__link",onClick:()=>l("facebook"),href:"https://facebook.com/sharer/sharer.php?u="+e,target:"_blank",rel:"noopener noreferrer","aria-label":""},i.a.createElement("div",{className:"resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"},i.a.createElement("div",{"aria-hidden":"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"}))))),i.a.createElement("a",{className:"resp-sharing-button__link",onClick:()=>l("twitter"),href:"https://twitter.com/intent/tweet/?text=Best%20Clipboard%20History%20extension%20for%20Chrome&amp;url="+e,target:"_blank",rel:"noopener noreferrer","aria-label":""},i.a.createElement("div",{className:"resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"},i.a.createElement("div",{"aria-hidden":"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"}))))),i.a.createElement("a",{className:"resp-sharing-button__link",onClick:()=>l("pinterest"),href:`https://pinterest.com/pin/create/button/?url=${e}&amp;media=${e}&amp;description=Best%20Clipboard%20History%20extension%20for%20Chrome`,target:"_blank",rel:"noopener noreferrer","aria-label":""},i.a.createElement("div",{className:"resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"},i.a.createElement("div",{"aria-hidden":"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M12.14.5C5.86.5 2.7 5 2.7 8.75c0 2.27.86 4.3 2.7 5.05.3.12.57 0 .66-.33l.27-1.06c.1-.32.06-.44-.2-.73-.52-.62-.86-1.44-.86-2.6 0-3.33 2.5-6.32 6.5-6.32 3.55 0 5.5 2.17 5.5 5.07 0 3.8-1.7 7.02-4.2 7.02-1.37 0-2.4-1.14-2.07-2.54.4-1.68 1.16-3.48 1.16-4.7 0-1.07-.58-1.98-1.78-1.98-1.4 0-2.55 1.47-2.55 3.42 0 1.25.43 2.1.43 2.1l-1.7 7.2c-.5 2.13-.08 4.75-.04 5 .02.17.22.2.3.1.14-.18 1.82-2.26 2.4-4.33.16-.58.93-3.63.93-3.63.45.88 1.8 1.65 3.22 1.65 4.25 0 7.13-3.87 7.13-9.05C20.5 4.15 17.18.5 12.14.5z"}))))),i.a.createElement("a",{className:"resp-sharing-button__link",onClick:()=>l("linkedin"),href:"https://www.linkedin.com/sharing/share-offsite/?url="+e,target:"_blank",rel:"noopener noreferrer","aria-label":""},i.a.createElement("div",{className:"resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"},i.a.createElement("div",{"aria-hidden":"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"}))))),i.a.createElement("a",{className:"resp-sharing-button__link tooltip has-tooltip-top","data-tooltip":t?"Copied":"Click to copy",onClick:()=>{Object(L.a)(E.c),a(!0),Object(s.a)("Burger","Share","copy")},href:"#"},i.a.createElement("div",{className:"resp-sharing-button resp-sharing-button--copy resp-sharing-button--small"},i.a.createElement("div",{"aria-hidden":"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},"Link"))))};const z=E.q+"?utm_medium=extension&utm_campaign=pro_mobile&utm_source=about_modal";var B={Title:function(){return i.a.createElement("div",{className:"title-with-image-block is-size-5"},i.a.createElement("figure",{className:"image is-48x48 title-image"},i.a.createElement("img",{src:"imgs/128.png",alt:"Logo image"})),i.a.createElement("span",null,'About "Clipboard History Pro"'))},Body:function(){return i.a.createElement("div",{className:"about-body"},i.a.createElement("h3",null,"Allows to manage your clipboard history and improve performance when working with text notes."),i.a.createElement("br",null),i.a.createElement("p",null,i.a.createElement("span",{className:"about-icon"},i.a.createElement(T.a,{icon:F.e})),"If the extension is helpful for you, I will appreciate your good review"),!1,i.a.createElement("br",null),i.a.createElement("p",null,i.a.createElement("span",{className:"about-icon"},i.a.createElement(T.a,{icon:F.b})),"For questions, suggestions or bug reports"),i.a.createElement("ul",{className:"marked-list"},i.a.createElement("li",null,i.a.createElement("a",{className:"external-link",href:"mailto:"+E.o},E.o))),i.a.createElement("br",null),i.a.createElement(_,null),i.a.createElement("br",null),i.a.createElement("p",null,i.a.createElement("a",{href:z,className:"external-link"},"Quick Tour"),i.a.createElement("br",null),i.a.createElement("a",{href:E.j,className:"external-link"},"Privacy Policy")),i.a.createElement("div",{className:"has-text-right has-text-grey-light is-size-7"},i.a.createElement("div",{className:"tags has-addons is-right",title:"3.13.0@6c115b6-nc"},i.a.createElement("span",{className:"tag"},"Version"),i.a.createElement("span",{className:"tag is-info"},"3.13.0"))))}},V=a(21),H=a(228),R=a(226),G=a.n(R),q=a(227),U=a.n(q),W=(a(161),a(6));const K="about",$="item",J="edit",Y="add_text",Q="export",X="merge",Z="optimize",ee="optimize_cloud_pro",te="update",ae="subscription",se="welcome",ne=[$,J,ee,ae];const ie=[$,J,Y,ae,te,ee];let le=!1;const oe=Object(g.b)((function(e,t){e.appActions.setSettings({itemViewFontSizePx:t}),le||(Object(s.a)("ItemView","FontSize","size"),le=!0)}),50);function re(e){const{itemViewBreakText:t,itemViewFontSizePx:a,itemViewShowWhitespaces:l}=e.settings,[o,r]=Object(n.useState)(a),c=e.type===J,m=t=>{let a=o;t?(a+=2,a>22&&(a=22)):(a-=2,a<10&&(a=10)),r(a),oe(e,a)};return i.a.createElement("div",{className:"dropdown is-up is-hoverable text-view-tools"},i.a.createElement("div",{className:"dropdown-trigger"},i.a.createElement("button",{className:"button button-text-action",disabled:c},i.a.createElement("span",{className:"icon is-small"},i.a.createElement(T.a,{icon:W.q})))),i.a.createElement("div",{className:"dropdown-menu",id:"dropdown-share",role:"menu"},i.a.createElement("div",{className:"dropdown-content"},i.a.createElement("div",{className:"dropdown-item font-size-tool"},i.a.createElement("span",{className:"font-title"},"Font"),i.a.createElement("div",{className:"buttons has-addons"},i.a.createElement("button",{className:"button",onClick:()=>m(!1),title:"Decrease font size",disabled:o<=10},i.a.createElement(T.a,{icon:W.A})),i.a.createElement("button",{className:"button cursor-auto opacity-1",disabled:!0,title:"Current font size"},o,"px"),i.a.createElement("button",{className:"button",onClick:()=>m(!0),title:"Increase font size",disabled:o>=22},i.a.createElement(T.a,{icon:W.C})))),i.a.createElement("hr",{className:"dropdown-divider"}),i.a.createElement("div",{className:"dropdown-item"},i.a.createElement("input",{type:"checkbox",className:j()("is-checkradio is-info is-small",{"has-background-color":t}),id:"break-words-checkbox",checked:t,onChange:()=>{e.appActions.setSettings({itemViewBreakText:!t}),Object(s.a)("ItemView","BreakText")},disabled:c}),i.a.createElement("label",{className:"checkbox",htmlFor:"break-words-checkbox"},"Break words")),i.a.createElement("hr",{className:"dropdown-divider"}),i.a.createElement("div",{className:"dropdown-item"},i.a.createElement("input",{type:"checkbox",className:j()("is-checkradio is-info is-small",{"has-background-color":l}),id:"show-whitespaces-checkbox",checked:l,onChange:()=>{e.appActions.setSettings({itemViewShowWhitespaces:!l}),Object(s.a)("ItemView","ShowWhitespaces")},disabled:c}),i.a.createElement("label",{className:"checkbox",htmlFor:"show-whitespaces-checkbox"},"Show whitespaces")))))}function ce(e){return i.a.createElement("div",{className:"meta source-url-block"},i.a.createElement("span",{className:"source-title"},"Source Page: "),e.children)}var me=function({sourceUrl:e,tabsPermission:t,onLinkClick:a}){return e?i.a.createElement(ce,null,i.a.createElement("a",{href:e,className:"external-link",title:e,onClick:a},e)):!1===t?i.a.createElement(ce,null,i.a.createElement("a",{title:e,href:"/options.html#other",className:"external-link"},"<enable URL detection>")):null};const de=new(0,a(315).Parser);var he={Title:function(e){const t=e.modalData,{dateAdded:a,hash:s}=t,n=e.activeHash===s;return i.a.createElement("div",{className:"item-view-title"},i.a.createElement("span",{className:"light-text"},"Created: "),i.a.createElement("span",{className:"date-text"},Object(V.c)(a)),i.a.createElement("span",{className:"light-text"},"(",Object(V.b)(a),")"),i.a.createElement("div",{className:"item-badges"},n&&i.a.createElement("span",{className:"tooltip has-tooltip-bottom","data-tooltip":"Active item"},i.a.createElement(T.a,{icon:W.i,className:"has-text-success"})),t.isFavorite&&i.a.createElement("span",{className:"tooltip has-tooltip-bottom","data-tooltip":"Favorite item"},i.a.createElement(T.a,{icon:W.J,className:"has-text-yellow-dark"})),t.isMerged&&i.a.createElement("span",{className:"tooltip has-tooltip-bottom","data-tooltip":"Merged item"},i.a.createElement(T.a,{icon:F.a,className:"has-text-grey"})),t.isEdited&&i.a.createElement("span",{className:"tooltip has-tooltip-bottom","data-tooltip":"Text modified"},i.a.createElement(T.a,{icon:W.o,className:"has-text-grey-light"})),t.isUserAdded&&i.a.createElement("span",{className:"tooltip has-tooltip-bottom","data-tooltip":"Custom text"},i.a.createElement(T.a,{icon:W.C,className:"has-text-grey-light"}))))},Body:function(e){var t;const a=e.modalData,n=Object(S.f)(e.viewMode),{itemViewShowWhitespaces:l}=e.settings,{sourceUrl:o}=a,r=e.permissions.tabs,c=null===(t=e.sharedData)||void 0===t?void 0:t.qrShown;let m=[];a.tags&&a.tags.length&&(m=a.tags.map(e=>"string"==typeof e?{id:e,text:e}:e));const d=(e.settings.itemViewFontSizePx||14)+"px",h=t=>{const s=t.text,n=[...a.tags,s];e.itemActions.setTags(a.hash,n)},u=t=>{const s=a.tags.filter((e,a)=>a!==t);e.itemActions.setTags(a.hash,s)},p=(t,s,n)=>{const i=[...a.tags].slice();i.splice(s,1),i.splice(n,0,t.text),e.itemActions.setTags(a.hash,i)};let b=[];const E=()=>{b.length||e.appActions.getAllTags().then(({allTags:e})=>{e.forEach(e=>b.push({text:e,id:e}))})};return i.a.createElement("div",{className:"item-view-body"},i.a.createElement("div",{className:j()("meta-info",{"hidden-top":e.settings.itemViewMetaHidden})},i.a.createElement("div",{className:"slide-block"},i.a.createElement("div",{className:"meta"},"Text length: ",a.length),(f=a.dateLastCopied,v=a.dateAdded,n?null:v!==f&&f?i.a.createElement("div",{className:"meta"},i.a.createElement("span",null,"Last time used:"),i.a.createElement("span",null,Object(V.c)(f)),i.a.createElement("span",null,"(",Object(V.b)(f),")")):null),i.a.createElement(me,{sourceUrl:o,tabsPermission:r,onLinkClick:()=>{Object(s.a)("ItemView","SourceUrl")},onEnableClick:()=>{e.appActions.requestPermission("tabs"),Object(s.a)("ItemView","EnableUrlDetection")}}),i.a.createElement("div",{className:"meta tags-block"},i.a.createElement("span",{className:"is-inline-flex tags-title"},"Tags:"),i.a.createElement(H.WithContext,{tags:m,allowDragDrop:!0,handleDelete:u,handleAddition:h,handleDrag:p,handleInputFocus:E,placeholder:"Add new tag...",autofocus:!1,suggestions:b,autocomplete:!0,allowUnique:!0,classNames:{tags:"tags is-inline-flex",tagInput:"tag-input is-inline-flex ",tagInputField:"tag-input-field",tag:"tag",remove:"delete is-small",suggestions:"tags-suggestions"}}))),i.a.createElement("button",{className:"toggle-meta-info",title:"Hide info",onClick:()=>{e.appActions.setSettings({itemViewMetaHidden:!e.settings.itemViewMetaHidden}),Object(s.a)("ItemView","Meta")}},"⋯")),i.a.createElement("div",{className:j()("raw-text",{"break-text":e.settings.itemViewBreakText,blured:c}),style:{fontSize:d}},a.text?i.a.createElement("div",null,l?(g=a.text,g=(g=(g=G()(g)).replace(/ /g,'<span class="vspace space"></span>')).replace(/\t/g,'<span class="vspace tab"></span>'),de.parse(g)):a.text):i.a.createElement("div",{className:"text-loading"},"Loading...")),c&&i.a.createElement("div",{className:"qr-code-container"},i.a.createElement("button",{className:"delete","aria-label":"close",onClick:()=>{e.setSharedData({qrShown:!1})}}),i.a.createElement(U.a,{value:a.text,size:220}),i.a.createElement("a",{className:"download-qr",onClick:()=>{const e=document.createElement("a");e.download=`qr-${a.dateAdded}.png`,e.href=document.querySelector(".qr-code-container canvas").toDataURL(),e.click(),Object(s.a)("ItemView","QrDownload")}},"download")));var g,f,v},Footer:function(e){const t=e.modalData,{hash:a}=t,n=e.activeHash===a,l=Object(S.f)(e.viewMode),o=()=>{e.itemActions.setActive(a),Object(s.a)("ItemView","Activate")},r=()=>{e.itemActions.setFavorite(a),Object(s.a)("ItemView","Favorite")},c=()=>{e.itemActions.deleteItems(a),e.appActions.switchModal(!1),Object(s.a)("ItemView","Delete")},m=()=>{e.appActions.switchModal(!0,J,e.modalData),Object(s.a)("Edit","Show")},d=()=>{var t;const a=(null===(t=e.sharedData)||void 0===t?void 0:t.qrShown)||!1;e.setSharedData({qrShown:!a}),Object(s.a)("ItemView","QrShow")};return i.a.createElement("div",{className:"item-view-footer"},i.a.createElement("div",{className:"buttons are-small text-actions"},i.a.createElement(re,e),!l&&i.a.createElement("button",{className:"button",title:"Edit text",onClick:m},i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.o})),i.a.createElement("span",null,"Edit text")),(()=>{var e;const a=(null===(e=t.text)||void 0===e?void 0:e.length)>255;return i.a.createElement("button",{className:j()("button",{"tooltip has-tooltip-top":a}),onClick:d,disabled:a,"data-tooltip":a?"Available for text less than 255 chars":null},i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.D})),i.a.createElement("span",null,"Show as QR"))})()),!l&&i.a.createElement("div",{className:"buttons are-small item-actions"},i.a.createElement("button",{className:j()("button is-success animatable",{"is-outlined":n}),disabled:n,onClick:o},"Copy"),i.a.createElement("button",{className:"button is-warning",onClick:r},"Favorite"),i.a.createElement("button",{className:j()("button is-danger animatable",{"is-outlined":t.isFavorite}),disabled:t.isFavorite,onClick:c},"Delete")))}};var ue={Title:function(){return i.a.createElement("div",{className:"is-size-5"},i.a.createElement("span",null,"Export items"))},Body:function(e){const t=e.modalData.size,a=t=>{e.appActions.exportItems(t),e.appActions.switchModal(!1)};return i.a.createElement("div",{className:"has-text-weight-light export-body"},i.a.createElement("h3",{className:"has-text-centered"},"Exporting ",i.a.createElement("strong",null,t)," items. Please choose output format:"),i.a.createElement("div",{className:"export-buttons"},i.a.createElement("button",{className:"button is-info is-fullwidth",onClick:()=>a("backup")},"Backup file"),i.a.createElement("button",{className:"button is-info is-fullwidth",onClick:()=>a("json")},"Readable JSON"),i.a.createElement("button",{className:"button is-info is-fullwidth",onClick:()=>a("text")},"Plain text"),i.a.createElement("button",{className:"button is-info is-fullwidth",onClick:()=>a("csv")},"Comma-separated values (CSV)")))}},pe=a(68);const be=Object(pe.b)(({value:e,sortIndex:t})=>i.a.createElement("li",{className:"merge-order-item"},i.a.createElement("span",{className:"index"},t+1,"."),i.a.createElement("span",{className:"text"},e))),Ee=Object(pe.a)(({items:e})=>i.a.createElement("ul",{className:"merge-order-list"},e.map((e,t)=>i.a.createElement(be,{key:e.hash,index:t,sortIndex:t,value:e.shortText}))));var ge=function(e){const[t,a]=Object(n.useState)([]);return Object(n.useEffect)(()=>{a(e.items)},[e.items]),i.a.createElement(Ee,{items:t,onSortEnd:({oldIndex:s,newIndex:n})=>{const i=x()(t,s,n);a(i),e.onSort(i)},helperClass:"merge-order-helper"})};var fe={Title:function(){return i.a.createElement("div",{className:"is-size-5"},i.a.createElement("span",null,"Merge items"))},Body:function(e){const t=e.modalData.length,[a,l]=Object(n.useState)("newline"),o=Object(n.useCallback)(()=>{const t=[...e.modalData].reverse();e.appActions.switchModal(!0,"merge",t),Object(s.a)("Merge","Inverse")},[e.appActions,e.modalData]);return t<=1?i.a.createElement("div",{className:"has-text-centered common-modal-body"},"Please select at least two items to merge"):i.a.createElement("div",{className:"has-text-weight-light merge-body"},i.a.createElement("h3",{className:"has-text-centered"},"Merging ",i.a.createElement("strong",null,t)," items"),i.a.createElement("div",{className:"has-text-centered"},i.a.createElement("div",{className:"column"},i.a.createElement(ge,{items:e.modalData,onSort:t=>{e.appActions.switchModal(!0,"merge",t),Object(s.a)("Merge","Sort")}}),i.a.createElement("small",{className:"has-text-grey-light"},"Rearrange items by dragging or")," ",i.a.createElement("small",{className:"has-text-grey-light"},i.a.createElement("a",{className:"dashed-text",onClick:o},"inverse order"))),i.a.createElement("div",{className:"column"},i.a.createElement("div",{className:"is-inline-flex delimiter-title"},i.a.createElement("span",null,"Using delimiter")),i.a.createElement("div",{className:"is-inline-flex"},i.a.createElement("div",{className:"select"},i.a.createElement("select",{value:a,onChange:e=>{l(e.target.value)}},i.a.createElement("option",{value:"newline"},"New line (\\n)"),i.a.createElement("option",{value:"comma"},"Comma (,)"),i.a.createElement("option",{value:"semicolon"},"Semicolon (;)"),i.a.createElement("option",{value:"space"},"Space ( )"),i.a.createElement("option",{value:"tab"},"Tabulation (\\t)"),i.a.createElement("option",{value:"empty"},"No delimiter"))))),i.a.createElement("div",{className:"column is-inline-flex is-two-thirds is-two-thirds-mobile"},i.a.createElement("button",{className:"button is-info is-fullwidth",onClick:()=>{e.appActions.mergeItems(a),e.appActions.switchModal(!1)}},"Merge"))))}};var ve={Title:function(){return i.a.createElement("div",{className:"is-size-5"},i.a.createElement("span",null,"Optimize your Clipboard History"))},Body:function(e){const[t,a]=Object(n.useState)(!0),[l,o]=Object(n.useState)(!1);return i.a.createElement("div",{className:"has-text-weight-light common-modal-body"},i.a.createElement("p",null,"It seems your clipboard history growths up. The big amount of records can affect the performance."),i.a.createElement("br",null),i.a.createElement("p",null,"Would you like to enable auto-cleaning filter?"),i.a.createElement("br",null),i.a.createElement("div",{className:"field"},i.a.createElement("input",{className:"is-checkradio is-info",id:"k150r",type:"checkbox",checked:t,onChange:e=>a(e.target.checked)}),i.a.createElement("label",{htmlFor:"k150r"},"Keep only last ",E.e," records")),i.a.createElement("div",{className:"columns"},i.a.createElement("div",{className:"column is-6-mobile is-offset-3-mobile"},i.a.createElement("button",{className:"button is-fullwidth is-info has-icons-left",onClick:()=>{const a={};t&&(a.isItemsLimited=!0,a.itemsLimit=E.e,Object(s.a)("Optimization","Apply"),e.appActions.setSettings(a).then(()=>{setTimeout(()=>{chrome.runtime.reload()},200)}))},disabled:!t},"Apply & restart"))),i.a.createElement("div",{className:"optimize-disclosure"},i.a.createElement("p",null,"Please note: older records except you favorites and latest ",E.e," items will be deleted after the filter will be applied."),i.a.createElement("p",null,"Be sure to ",i.a.createElement("a",{href:"#",className:"action",onClick:()=>{Object(f.a)().then(()=>{o(!0)}),Object(s.a)("Optimization","DownloadBackup")}},"Download backup"),i.a.createElement("span",null,i.a.createElement(T.a,{icon:W.i,className:j()("has-text-success",{"is-hidden":!l})})),i.a.createElement("br",null),"Also you can configure auto-cleaning in ",i.a.createElement("a",{href:"#",className:"action",onClick:()=>{chrome.runtime.openOptionsPage(),Object(s.a)("Optimization","OpenOptions")}},"Options")," page")))},Footer:function(e){return i.a.createElement("div",{className:"modal-common-footer right-footer"},i.a.createElement("a",{href:"#",className:"button is-text",onClick:()=>{e.appActions.completePromo("optimize").then(()=>{e.appActions.switchModal(!1)}),Object(s.a)("Optimization","NeverShow")}},"Close and do not show again"))}};var we={Title:function(){return i.a.createElement("div",{className:"is-size-5"},i.a.createElement("span",null,"Optimize your Cloud Pro"))},Body:function(e){const[t,a]=Object(n.useState)(!0),[l,o]=Object(n.useState)(!1),[r,c]=Object(n.useState)(!0),{settings:m}=e,d=m.autoSyncCloudPro,h=!(t||l||r&&d);return i.a.createElement("div",{className:"has-text-weight-light common-modal-body"},i.a.createElement("p",null,"It seems your Cloud Pro has lots of items. ",i.a.createElement("br",null),"A big amount of elements can badly affect cloud performance."),i.a.createElement("br",null),i.a.createElement("p",null,"Here are some recommended optimizations:"),i.a.createElement("br",null),i.a.createElement("div",{className:"field"},i.a.createElement("input",{className:"is-checkradio is-info",id:"k150r",type:"checkbox",checked:t,onChange:e=>a(e.target.checked)}),i.a.createElement("label",{htmlFor:"k150r"},"Keep only last ",E.e," records")),d&&i.a.createElement("div",{className:"field"},i.a.createElement("input",{className:"is-checkradio is-info",id:"r5d",type:"checkbox",checked:r,onChange:e=>c(e.target.checked)}),i.a.createElement("label",{htmlFor:"r5d"},"Disable sending items automatically")),i.a.createElement("div",{className:"field"},i.a.createElement("input",{className:"is-checkradio is-info",id:"dis",type:"checkbox",checked:l,onChange:e=>o(e.target.checked)}),i.a.createElement("label",{htmlFor:"dis"},"Auto-remove items older than 3 days")),i.a.createElement("br",null),i.a.createElement("div",{className:"columns"},i.a.createElement("div",{className:"column is-6-mobile is-offset-3-mobile"},i.a.createElement("button",{className:"button is-fullwidth is-info has-icons-left",onClick:()=>{const a={};t&&(a.isCloudProItemsLimited=!0,a.cloudProItemsLimit=E.e),l&&(a.isCloudProTimeLimited=!0,a.cloudProTimeCount=3,a.cloudProTimePeriod="d"),d&&r&&(a.autoSyncCloudPro=!1),Object.keys(a).length&&(Object(s.a)("OptimizationCloudPro","Apply"),e.appActions.setSettings(a).then(()=>{setTimeout(()=>{chrome.runtime.reload()},200)}))},disabled:h},"Apply & restart"))),i.a.createElement("div",{className:"optimize-disclosure"},i.a.createElement("p",null,"Please note: some old records will be deleted after filters are applied"),i.a.createElement("p",null,"You can also configure filters manually on the"," ",i.a.createElement("a",{href:"/options.html#cloud",onClick:()=>{Object(s.a)("OptimizationCloudPro","OpenOptions")},className:"external-link"},"Options")," ","page")))},Footer:function(e){return i.a.createElement("div",{className:"modal-common-footer right-footer"},i.a.createElement("a",{href:"#",className:"button is-text",onClick:()=>{e.appActions.completePromo("optimizeCloudPro").then(()=>{e.appActions.switchModal(!1)}),Object(s.a)("OptimizationCloudPro","NeverShow")}},"Close and let it grow"))}};var Ne={Title:function(){return i.a.createElement("div",{className:"is-size-6 title-with-image-block"},i.a.createElement("figure",{className:"image is-32x32 title-image"},i.a.createElement("img",{src:"imgs/128.png",alt:"Logo image"})),i.a.createElement("span",null,"Update received"))},Body:function({appActions:e,hasSubs:t}){const a=`fav-paste-${Object(g.e)()?"mac":"win"}-o.gif`,l=Object(n.useCallback)(()=>{setTimeout(()=>{e.showPaddlePayment()},100),Object(s.a)("UpdateModal","TryPro","3.13.0")},[e]);return i.a.createElement("div",{className:"common-modal-body"},i.a.createElement("h2",{className:"title is-5 has-text-centered",style:{marginBottom:"10px"}},i.a.createElement(T.a,{icon:W.J,color:"#ff980f"})," New Features for Pro"),i.a.createElement("p",{style:{marginBottom:"15px"}},"The extension just received new features: manual sorting for favorites and paste first three item with keyboard shortcuts"),i.a.createElement("img",{src:"https://clipboardextension.com/imgs/updates/"+a,className:"details-image",alt:"Fav sort & quick paste",style:{border:"1px solid #bbb"}}),!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{style:{marginBottom:"10px"}},"These features become available with activated Pro subscription. Consider trying it free for two weeks!"),i.a.createElement("div",{className:"has-text-centered"},i.a.createElement("a",{href:E.g,className:"button is-rounded is-medium is-success external-link",onClick:l},"Try Pro Free"))),i.a.createElement("br",null),i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},i.a.createElement("a",{href:"https://clipboardextension.com/pro.html?utm_source=modal_update#favs-paste",className:"external-link underlined",style:{marginRight:"20px"}},"Read more"),i.a.createElement("button",{className:"button is-outlined is-small",onClick:()=>{e.switchModal(!1),Object(s.a)("UpdateModal","Dismiss","3.13.0")}},"Dismiss")))}},ke=a(32),Se=a(19),Ce=a(4),xe=a.n(Ce);function ye(e,t){Object(s.a)("AppLinks",e,t)}const Oe=E.h.replace(/https?:\/\//,"");function Ae(e){return i.a.createElement("div",{className:j()("apps-links-block",{"small-gap":e.smallGap})},!e.noTitle&&i.a.createElement("span",null,"Get Mobile App:",i.a.createElement("br",null)),i.a.createElement("a",{className:"external-link",href:E.d,onClick:()=>ye("iOS",e.placement)},i.a.createElement("img",{src:"imgs/app-store.svg",className:"store-badge-image",alt:"App Store Badge"})),i.a.createElement("a",{className:"external-link",href:E.a,onClick:()=>ye("Android",e.placement)},i.a.createElement("img",{src:"imgs/google-play.png",className:"store-badge-image",alt:"Google Play Badge"})),i.a.createElement("div",null,i.a.createElement("img",{src:"imgs/onelink_qr.png",className:"qr-code-image",alt:"QR Code"})),i.a.createElement("p",{className:"has-text-centered uni-link",onClick:()=>ye("OneLink",e.placement)},i.a.createElement("a",{href:E.h,className:"external-link"},Oe)))}Ae.propTypes={noTitle:xe.a.bool,smallGap:xe.a.bool};const Pe=E.m+"?utm_medium=extension&utm_campaign=modal_pro",je=Pe+"&utm_source=modal_pro_widget#clipboard-widget",Me=Pe+"&utm_source=modal_pro_edit#edit-text-feature",Ie=Pe+"&utm_source=modal_pro_lock#password-lock",De=Pe+"&utm_source=modal_pro_floating#floating-mode",Te=Pe+"&utm_source=modal_pro_mobile#mobile-sync",Fe=Pe+"&utm_source=modal_pro_mobile#favs-paste",Le="widget",_e="lock",ze="edit",Be="floating",Ve="mobile",He="fav_paste",Re={[Le]:i.a.createElement(qe,null),[_e]:i.a.createElement(Ue,null),[ze]:i.a.createElement(We,null),[Be]:i.a.createElement(Ke,null),[Ve]:i.a.createElement($e,null),[He]:i.a.createElement(Je,null)};function Ge({children:e}){return i.a.createElement("h2",{className:"title is-4 pro-title"},e)}function qe(){return i.a.createElement("article",null,i.a.createElement(Ge,null,"Page Widget"),i.a.createElement("p",null,"The Clipboard Widget – is a big booster for your productivity. It gives you access to your Clipboard history from any web page."),i.a.createElement("p",null,'With the Clipboard Widget you can perform multiple paste in a few clicks. Just choose an input field and click to "Paste" button.'),i.a.createElement("img",{src:"https://clipboardextension.com/imgs/updates/instant-paste-o.gif",className:"details-image",alt:"Widget Paste Demo"}),i.a.createElement("p",null,"A clipboard item can be copied with a single click"),i.a.createElement("img",{src:"https://clipboardextension.com/imgs/updates/widget-search-and-copy.gif",className:"details-image",alt:"Widget Copy Demo"}),i.a.createElement("p",{className:"has-text-centered"},i.a.createElement("a",{href:je,className:"external-link"},i.a.createElement("span",null,"Read more on the website"),i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.s,size:"xs"})))))}function Ue(){return i.a.createElement("article",null,i.a.createElement(Ge,null,"Password Lock"),i.a.createElement("p",null,"The Lock allows you to set a password and ",i.a.createElement("strong",null,"restrict access")," to your clipboard history list."),i.a.createElement("img",{src:"https://clipboardextension.com/imgs/updates/lock-demo-short-o.gif",className:"details-image",alt:"Unlock Procedure"}),i.a.createElement("p",null,"The Options page also will be accessed with the password you set. ",i.a.createElement("br",null)," You can configure ",i.a.createElement("strong",null,"auto-lock")," timer on the Options or lock the list manually."),i.a.createElement("img",{src:"https://clipboardextension.com/imgs/updates/lock-options.png",className:"details-image",alt:"Lock Settings"}),i.a.createElement("p",{className:"has-text-centered"},i.a.createElement("a",{href:Ie,className:"external-link"},i.a.createElement("span",null,"Read more on the website"),i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.s,size:"xs"})))))}function We(){return i.a.createElement("article",null,i.a.createElement(Ge,null,"Text editing"),i.a.createElement("p",null,"Being a user with Pro subscription allows you to ",i.a.createElement("strong",null,"Edit"),' text of any of your clipboard items. The "Edit" button can be found in full item view (an eye icon button).'),i.a.createElement("p",null,'The "Save" button applies changes and "Save as new" allows to ',i.a.createElement("strong",null,"clone")," this item into the new record."),i.a.createElement("img",{src:"https://clipboardextension.com/imgs/updates/edit-text-shorter.gif",className:"details-image",alt:"Text Editing Demo"}),i.a.createElement("p",{className:"has-text-centered"},i.a.createElement("a",{href:Me,className:"external-link"},i.a.createElement("span",null,"Read more on the website"),i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.s,size:"xs"})))))}function Ke(){return i.a.createElement("article",null,i.a.createElement(Ge,null,"Floating Mode"),i.a.createElement("p",null,"The Floating Mode gives an ability to run Clipboard History extension in a separate from the browser window."),i.a.createElement("p",null,"This is really helpful if you work a lot with your clipboard or have more than one display."),i.a.createElement("img",{src:"https://clipboardextension.com/imgs/updates/floating-mode-o.gif",className:"details-image",alt:"Floating Mode Demo"}),i.a.createElement("p",{className:"has-text-centered"},i.a.createElement("a",{href:De,className:"external-link"},i.a.createElement("span",null,"Read more on the website"),i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.s,size:"xs"})))))}function $e(){return i.a.createElement("article",null,i.a.createElement(Ge,null,"Cloud Pro & Mobile Sync"),i.a.createElement("p",null,"With the ",i.a.createElement("strong",null,"Cloud Pro")," you can sync history items between any of your devices: computers and smartphones"),i.a.createElement("div",{className:"columns is-mobile"},i.a.createElement("div",{className:"column is-7 mobile-sync-column"},i.a.createElement("p",null,"Check out our mobile apps:"),i.a.createElement(Ae,{smallGap:!0,noTitle:!0,placement:"subsModal"}),i.a.createElement("p",{className:"has-text-centered"},i.a.createElement("a",{href:Te,className:"external-link"},i.a.createElement("span",null,"Read more on the website"),i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.s,size:"xs"}))))),i.a.createElement("div",{className:"column is-5 mobile-sync-column"},i.a.createElement("img",{src:"imgs/mobile-app-screen.png",className:"mobile-app-screen",alt:"Mobile App Screenshot"}))))}function Je(){const e=Object(g.e)(),t=`fav-paste-${e?"mac":"win"}-o.gif`,a=e?"Shift+Option+1":"Shift+Alt+1";return i.a.createElement("article",null,i.a.createElement(Ge,null,"Fav sort & quick paste"),i.a.createElement("p",null,"Change order for favorite items as you wish. The first three elements are available for pasting via a keyboard shortcut."),i.a.createElement("p",null,"The keyboard shortcut by default is ",a,", where the last digit is an order number of a favorite item."),i.a.createElement("img",{src:"https://clipboardextension.com/imgs/updates/"+t,className:"details-image",alt:"Fav sort & quick paste"}),i.a.createElement("p",null,"You can change the keyboard shortcuts to what you feel is better."),i.a.createElement("p",{className:"has-text-centered"},i.a.createElement("a",{href:Fe,className:"external-link"},i.a.createElement("span",null,"Read more on the website"),i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.s,size:"xs"})))))}var Ye=function({goBack:e,type:t,isNewCustomer:a,appActions:l,productId:o}){const r=Object(n.useCallback)(()=>{setTimeout(()=>{l.showPaddlePayment()},100),Object(s.a)("Paddle","OpenActivationTop",o)},[l,o]);return i.a.createElement("section",null,i.a.createElement("nav",{style:{display:"flex",justifyContent:"space-between"}},i.a.createElement("button",{className:"button go-back-button",onClick:e},i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.j})),i.a.createElement("span",null,"Back")),a&&i.a.createElement("button",{className:"button go-back-button is-success",onClick:r},i.a.createElement("span",null,"Activate Pro"))),Re[t]||i.a.createElement("strong",null,"Error: description for ",t," not found"))};var Qe=function(e){const{paymentData:t=null,appActions:a,productId:l}=e,o=!t||[Se.a.DELETED].includes(t.status),r=Object(n.useCallback)(()=>{setTimeout(()=>{a.showPaddlePayment()},100),Object(s.a)("Paddle","OpenActivation",l)},[a,l]);return o?i.a.createElement("div",null,i.a.createElement("button",{className:"button is-success activate-subs-button is-rounded",onClick:r},"Activate"," ",i.a.createElement("strong",null,"Pro")," ","free trial")):[Se.a.TRIALING,Se.a.ACTIVE].includes(t.status)?i.a.createElement("div",{className:"has-text-centered"},i.a.createElement("button",{className:"button is-success activate-subs-button is-rounded is-disabled",disabled:!0},i.a.createElement("span",null,"Pro is active")),i.a.createElement("br",null),i.a.createElement("small",null,i.a.createElement("a",{href:"#",onClick:r},"Manage your subscription"))):[Se.a.PAUSED,Se.a.PAST_DUE].includes(t.status)?i.a.createElement("div",{className:"has-text-centered"},i.a.createElement("button",{className:"button is-warning activate-subs-button is-rounded is-disabled",disabled:!0},i.a.createElement("span",null,"Pro is NOT active")),i.a.createElement("br",null),i.a.createElement("button",{className:"button is-outlined is-danger",onClick:r},"Please update the payment details")):void 0};function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function Ze(e){const{paymentData:t={}}=e,a=[Se.a.TRIALING,Se.a.ACTIVE].includes(null==t?void 0:t.status);return i.a.createElement("div",null,i.a.createElement("h2",{className:"subtitle is-4 pro-title has-text-centered mb20"},!a&&i.a.createElement(i.a.Fragment,null,"Activate ",i.a.createElement("strong",null,"Pro")," to get additional features"),a&&i.a.createElement(i.a.Fragment,null,"Your ",i.a.createElement("strong",null,"Pro")," features")),i.a.createElement("div",{className:"columns is-multiline is-flex"},i.a.createElement("div",{className:"column is-6 is-6-mobile"},i.a.createElement("ul",{className:"pro-features-list"},i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:()=>e.setDetails(Ve)},i.a.createElement("img",{src:"imgs/feature-mobile-cloud.png",alt:"Cloud Pro"}),i.a.createElement("span",{className:"feature-title"},"Cloud Pro & Mobile App"))),i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:()=>e.setDetails(_e)},i.a.createElement("img",{src:"imgs/feature-lock.png",alt:"Lock Icon"}),i.a.createElement("span",{className:"feature-title"},"Password Lock"))))),i.a.createElement("div",{className:"column is-6 is-6-mobile"},i.a.createElement("ul",{className:"pro-features-list"},i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:()=>e.setDetails(Be)},i.a.createElement("img",{src:"imgs/feature-floating-mode.png",alt:"Floating Mode Icons"}),i.a.createElement("span",{className:"feature-title"},"Floating Mode"))),i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:()=>e.setDetails(Le)},i.a.createElement("img",{src:"imgs/feature-widget.png",alt:"Page Widget Icon"}),i.a.createElement("span",{className:"feature-title"},"Page Widget"))))),i.a.createElement("div",{className:"column is-6 is-6-mobile is-offset-3 is-offset-3-mobile",style:{marginTop:"-20px"}},i.a.createElement("ul",{className:"pro-features-list"},i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:()=>e.setDetails(He)},i.a.createElement("img",{src:"imgs/feature-fav-paste.png",alt:""}),i.a.createElement("span",{className:"feature-title"},"Fav sort & quick paste")))))),i.a.createElement("link",{rel:"prefetch",href:"https://clipboardextension.com/imgs/updates/instant-paste-o.gif",as:"image"}),i.a.createElement("link",{rel:"prefetch",href:"https://clipboardextension.com/imgs/updates/widget-search-and-copy.gif",as:"image"}),i.a.createElement("link",{rel:"prefetch",href:"https://clipboardextension.com/imgs/updates/lock-options.png",as:"image"}),i.a.createElement("link",{rel:"prefetch",href:"https://clipboardextension.com/imgs/updates/floating-mode-o.gif",as:"image"}),i.a.createElement("link",{rel:"prefetch",href:"https://clipboardextension.com/imgs/updates/fav-paste-win-o.gif",as:"image"}),i.a.createElement("link",{rel:"prefetch",href:"https://clipboardextension.com/imgs/updates/fav-paste-mac-o.gif",as:"image"}))}var et={Title:function(){return i.a.createElement("div",{className:"title-with-image-block is-size-5"},i.a.createElement("figure",{className:"image is-32x32 title-image"},i.a.createElement("img",{src:"imgs/128.png",alt:"Logo image"})),i.a.createElement("span",null,"Pro Features"))},Body:function(e){const[t,a]=Object(n.useState)(null),[l,o]=Object(n.useState)(null),[r,c]=Object(n.useState)(null),{paymentData:d}=e,h=!d||[Se.a.DELETED].includes(d.status);return Object(n.useEffect)(()=>{Object(u.a)().then(({response:e})=>{const t=Object(ke.d)(null==e?void 0:e.products),{currency:a}=t,n=Object(ke.a)(!0,t);o(`${n} ${a}`),c(t.product_id),Object(s.a)("Subscription","Product",t.product_id)}).catch(e=>{m.a(e)})},[]),i.a.createElement("div",{className:"common-modal-body subs-body"},i.a.createElement("div",{className:"columns"},i.a.createElement("div",{className:"column"},t&&i.a.createElement(Ye,{type:t,goBack:()=>a(!1),isNewCustomer:h,appActions:e.appActions,productId:r}),!t&&i.a.createElement(Ze,Xe({setDetails:a},e)))),l&&h&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{className:"price-string has-text-centered"},"Just"," ",i.a.createElement("strong",{className:"crossed-price"},"4.99")," ",i.a.createElement("strong",null,l)," / month",i.a.createElement("div",{className:"has-text-grey"},i.a.createElement("small",null,"First 2 weeks free."))))),i.a.createElement(Qe,{paymentData:e.paymentData,appActions:e.appActions,productId:r}))},Footer:function(){return null}};const tt=E.q+"?utm_medium=extension&utm_campaign=pro_mobile&utm_source=welcome_modal";var at={Title:function(e){const t=e.modalData,a=e.type===Y,s=null==t?void 0:t.dateAdded;return i.a.createElement("div",{className:"item-view-title"},!a&&i.a.createElement("span",{className:"editing-tag"},"Editing"),a&&i.a.createElement("span",{className:"editing-tag"},"Adding new item"),!a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"light-text"},"Created: "),i.a.createElement("span",{className:"date-text"},Object(V.c)(s)),i.a.createElement("span",{className:"light-text"},"(",Object(V.b)(s),")")))},Body:function(e){var t,a;const s=e.modalData,l=e.type===Y,o=null!==(t=null!==(a=null==s?void 0:s.modalEditableText)&&void 0!==a?a:null==s?void 0:s.text)&&void 0!==t?t:"",r=Object(n.useRef)(),c=(e.settings.itemViewFontSizePx||14)+"px",m=(null==s?void 0:s.saveTo)||S.a.ALL;return Object(n.useEffect)(()=>{r.current.focus()},[]),i.a.createElement("div",{className:"item-view-body"},i.a.createElement("div",{className:j()("raw-text is-flex",{"break-text":e.settings.itemViewBreakText})},i.a.createElement("textarea",{className:"edit-textarea",ref:r,style:{fontSize:c},value:o,onChange:t=>{e.appActions.appendModalData({modalEditableText:t.target.value})}}),l&&i.a.createElement("div",{className:"add-item-footer"},i.a.createElement("div",{className:"add-action"},i.a.createElement("label",null,"Save to:"),i.a.createElement("div",{className:"select is-small"},i.a.createElement("select",{onChange:t=>{e.appActions.appendModalData({saveTo:t.target.value})},value:m},i.a.createElement("option",{value:S.a.ALL},"All"),i.a.createElement("option",{value:S.a.FAV},"Favorites"),i.a.createElement("option",{value:S.a.CLOUD_PRO},"Cloud Pro")))))))},Footer:function(e){var t;const a=e.type===Y,l=!(null==e||null===(t=e.modalData)||void 0===t||!t.modalEditableText),[o,r]=Object(n.useState)(!1),c=t=>{e.itemActions.editItem(t),Object(s.a)("Edit",t?"SaveNew":"Save")};return i.a.createElement("div",{className:"item-view-footer"},i.a.createElement("div",{className:"buttons are-small text-actions"},i.a.createElement("button",{className:"button",title:"Cancel",onClick:()=>{a?(e.appActions.switchModal(!1),Object(s.a)("Edit","CancelAdd")):(e.appActions.switchModal(!0,$,e.modalData),Object(s.a)("Edit","Cancel"))}},i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.c})),i.a.createElement("span",null,"Cancel"))),i.a.createElement("div",{className:"buttons are-small item-actions"},!a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"button is-info",onClick:()=>c(!1),disabled:!l},i.a.createElement("span",null,"Save")),i.a.createElement("button",{className:"button is-info",onClick:()=>c(!0),disabled:!l},i.a.createElement("span",null,"Save as new"))),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"button is-info",onClick:()=>(r(!0),e.itemActions.addText().catch(()=>{r(!1)}),void Object(s.a)("Edit","AddText")),disabled:!l||o},i.a.createElement("span",null,"Add item"),o&&i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.k,spin:!0}))))))}};const st=()=>{},nt={[K]:B,[$]:he,[J]:at,[Y]:at,[Q]:ue,[X]:fe,[Z]:ve,[ee]:we,[te]:Ne,[ae]:et,[se]:{Title:function(){return i.a.createElement("div",{className:"is-size-5 title-with-image-block"},i.a.createElement("span",null,"Welcome!"))},Body:function(e){return i.a.createElement("div",{className:"common-modal-body has-text-grey-darker has-text-weight-light has-text-centered"},i.a.createElement("figure",{className:"image is-64x64 title-image",style:{margin:"5px auto 15px"}},i.a.createElement("img",{src:"imgs/128.png",alt:"Logo image"})),i.a.createElement("p",{style:{fontSize:"18px"}},"Thank you for installing Clipboard History Pro",i.a.createElement("br",null),"The extension tracks your clipboard and stores every text you copied"),i.a.createElement("div",{className:"buttons",style:{margin:"30px 0 10px",justifyContent:"center"}},i.a.createElement("a",{href:tt,className:"button is-success is-outlined external-link",onClick:()=>{Object(s.a)("WelcomeModal","Tour","3.13.0")}},"Quick Tour"),i.a.createElement("a",{className:"button is-outlined",onClick:()=>{e.appActions.showSubs("welcome"),Object(s.a)("WelcomeModal","Pro","3.13.0")}},"About Pro Features"),i.a.createElement("a",{href:"#",className:"button is-text",onClick:()=>{e.appActions.completePromo("welcome"),e.appActions.switchModal(!1),Object(s.a)("WelcomeModal","Skip","3.13.0")}},"Close")),i.a.createElement("small",{className:"has-text-grey"},i.a.createElement("label",{className:"checkbox"},i.a.createElement("input",{type:"checkbox",disabled:!0,checked:!0}))," ","By continuing using this app you agree to our ",i.a.createElement("a",{href:E.s,className:"external-link",onClick:()=>{Object(s.a)("WelcomeModal","AgreementLink")}},"user agreement")," and ",i.a.createElement("a",{href:E.j,className:"external-link",onClick:()=>{Object(s.a)("WelcomeModal","PrivacyLink")}},"privacy policy"),"."))}}},it=[],lt=[te,ae,se,ee];var ot=e=>{const t=nt[e.type],[a,s]=Object(n.useState)({});if(!t)return null;const{Body:l,Title:o,Footer:r}=t,c=(m=e.type,ne.includes(m));var m;const d={...e,sharedData:a,setSharedData:s},h=()=>{e.appActions.switchModal(!1),s({})},u=it.includes(e.type),p=lt.includes(e.type)?st:h;return i.a.createElement("div",{className:j()("modal modal-fx-normal",{"is-active":e.isShown,"full-size":c})},i.a.createElement("div",{className:"modal-background",onClick:p}),i.a.createElement("div",{className:"modal-card"},i.a.createElement("header",{className:"modal-card-head"},i.a.createElement("div",{className:"modal-card-title"},i.a.createElement(o,d)),!u&&i.a.createElement("button",{className:"delete","aria-label":"close",onClick:h})),i.a.createElement("section",{className:"modal-card-body"},i.a.createElement(l,d)),r&&i.a.createElement("footer",{className:"modal-card-foot"},i.a.createElement(r,d))))},rt=a(103);function ct(e){const{hasSubs:t,hasCloudProAuth:a,showSubs:s}=e;return i.a.createElement("div",{className:"no-items"},t&&i.a.createElement("div",null,!a&&i.a.createElement("div",null,i.a.createElement(rt.a,null)),a&&i.a.createElement("h2",null,"Your Cloud Pro is empty")),!t&&i.a.createElement("div",null,i.a.createElement("h2",null,"The Cloud Pro items are synced between your computers and mobile apps."),i.a.createElement("button",{className:"button is-rounded is-danger is-small",onClick:()=>{s("proCloudView")}},"Try Pro for free")),i.a.createElement("br",null),i.a.createElement("small",null,"Use button",i.a.createElement("button",{className:"button pseudo-action-btn"},i.a.createElement(T.a,{icon:W.B})),"from the main list to send items to your Cloud Pro"),i.a.createElement(Ae,{placement:"mobileView"}))}var mt=a(230),dt=a.n(mt),ht=a(85),ut=a(87);function pt(e){const{sourceDevice:t}=e;if(!t)return null;let a=null,s="";switch(t){case"extension_chrome":a=ut.c,s="Google Chrome";break;case"extension_edge":a=ut.d,s="Edge";break;case"app_ios":a=ut.b,s="iOS device";break;case"app_android":a=ut.a,s="Android device"}return a?i.a.createElement("div",{className:"meta-icons-set"},i.a.createElement("span",{className:"icon item-meta-icon device",title:"From "+s},i.a.createElement(T.a,{icon:a,size:"xs"}))):null}pt.propTypes={sourceDevice:xe.a.string};class bt extends n.PureComponent{constructor(e){super(e),this.state={deleting:!1,cloudSent:!1,cloudFailed:!1,cloudProSent:!1,justClicked:!1,isFavViewMode:!1,isCloudProViewMode:!1,isLocalViewMode:!1}}static getDerivedStateFromProps(e){const t={isFavViewMode:Object(S.d)(e.viewMode),isCloudProViewMode:Object(S.c)(e.viewMode),isLocalViewMode:Object(S.e)(e.viewMode),isRemoteViewMode:Object(S.f)(e.viewMode)};return e.isActive||(t.justClicked=!1),e.isCloudProSent&&(t.cloudProSent=!0),t}static renderChecker(e,t,a,s){return i.a.createElement("div",{className:"field item-checker"},i.a.createElement("input",{className:j()("is-checkradio is-small is-info",{"has-background-color is-info":t,"is-circle":!t}),type:"checkbox",id:"check-"+e,checked:t,onChange:t=>a(e,t.target.checked,t.nativeEvent.shiftKey),disabled:s}),i.a.createElement("label",{htmlFor:"check-"+e}))}renderDateTagText(e,t){const{isActive:a,sortMethod:s}=this.props;return this.state.justClicked&&a?i.a.createElement("strong",null,"copied"):"dateAdded"===s?Object(V.a)(e):Object(V.a)(t)}static renderDateTagTitle(e,t){let a="Created: "+Object(V.c)(e);return t&&t!==e&&(a+="\nLast use: "+Object(V.c)(t)),a}renderDateTag({hash:e,dateAdded:t,dateLastCopied:a}){return i.a.createElement("a",{className:"time-tag",onClick:()=>this.handleSetActive(e,"DateTag"),href:"#",title:bt.renderDateTagTitle(t,a)},i.a.createElement("span",{className:"tag"},this.renderDateTagText(t,a)))}renderMetaIcon({isMerged:e,sourceUrl:t,isEdited:a,isUserAdded:s}){const{isCloudProViewMode:n}=this.state;return i.a.createElement("div",{className:"meta-icons-set"},e&&!n&&i.a.createElement("span",{className:"icon item-meta-icon",title:"Merged item"},i.a.createElement(T.a,{icon:F.a,size:"xs"})),t&&i.a.createElement("a",{href:t,className:"icon item-meta-icon link external-link tooltip has-tooltip-right","data-tooltip":Object(g.h)(t,32),onClick:()=>this.handleClickSourceUrl()},i.a.createElement(T.a,{icon:W.x,size:"xs"})),a&&!n&&i.a.createElement("span",{className:"icon item-meta-icon",title:"Text modified"},i.a.createElement(T.a,{icon:F.c,size:"xs"})),s&&!n&&i.a.createElement("span",{className:"icon item-meta-icon",title:"Custom text"},i.a.createElement(T.a,{icon:W.C,size:"xs"})))}renderShortText({hash:e,shortText:t},a){return i.a.createElement("div",{className:"text",onClick:()=>this.handleSetActive(e,"Text"),title:"Click to copy"},a?i.a.createElement(dt.a,{searchWords:[a],autoEscape:!0,textToHighlight:t}):i.a.createElement("span",null,t))}handleDeleteItem(e){this.props.itemActions.deleteItems(e),Object(s.b)(this.props.viewMode,"Delete")}handleSetActive(e,t=""){this.props.itemActions.setActive(e,this.props.viewMode),this.setState({justClicked:!0}),this.setState({cloudProSent:this.state.isCloudProViewMode}),this.props.isActive||Object(s.b)(this.props.viewMode,"Activate",t)}handleSetFavorite(e,t){this.props.itemActions.setFavorite(e,t),Object(s.b)(this.props.viewMode,"Favorite")}handleShowItem(e){this.props.itemActions.showItem(e),Object(s.b)(this.props.viewMode,"Show")}handleClickSourceUrl(){Object(s.b)(this.props.viewMode,"SourceUrl")}handleClickTag(e){this.props.appActions.setSearch(e,!0),Object(s.b)(this.props.viewMode,"Tag")}handleCloudProSend(e){this.props.itemActions.cloudProSendItem(e).then(()=>{this.setState({cloudProSent:!0})}).catch(()=>{}),Object(s.b)(this.props.viewMode,"CloudProSend")}handleCloudProGet(e){this.props.itemActions.cloudProGetItem(e),this.setState({cloudProSent:!0}),Object(s.b)(this.props.viewMode,"CloudProGet")}renderItemTools({hash:e,isFavorite:t}){const{isCloudProViewMode:a,isLocalViewMode:s,isRemoteViewMode:n}=this.state;return i.a.createElement("div",{className:"item-tools"},i.a.createElement("div",{className:"buttons has-addons"},!n&&i.a.createElement("button",{className:j()("button item-favorite-btn",{"is-warning":t}),title:"Make favorite",onClick:()=>this.handleSetFavorite(e,!t)},i.a.createElement(T.a,{icon:F.f})),i.a.createElement("button",{className:"button",title:"Edit",onClick:()=>this.handleShowItem(e)},i.a.createElement(T.a,{icon:F.c})),s&&i.a.createElement("button",{className:"button btn-send",title:"To Cloud Pro",onClick:()=>this.handleCloudProSend(e),disabled:this.state.cloudProSent},i.a.createElement(T.a,{icon:this.state.cloudProSent?W.h:W.B})),a&&i.a.createElement("button",{className:"button btn-send",title:"Take from Cloud Pro to All",onClick:()=>this.handleCloudProGet(e),disabled:this.state.cloudProSent},i.a.createElement(T.a,{icon:this.state.cloudProSent?W.h:W.a})),i.a.createElement("button",{className:"button item-delete-btn",title:"Delete",disabled:t&&s,onClick:()=>this.handleDeleteItem(e)},i.a.createElement(T.a,{icon:W.M}))))}static renderItemSize(e){const t=e>1e4,a=t?"9999+":e;return i.a.createElement("div",{className:j()("item-size",{"big-size":t}),title:"Item length: "+e},i.a.createElement("span",null,a))}render(){const{data:e,isActive:t,isSelected:a,itemCheck:s,searchString:n,isDeleting:l,isFocused:o,order:r,shortcutPrefixes:c,hasSubs:m}=this.props,{hash:d}=e,{isRemoteViewMode:h}=this.state;return i.a.createElement("div",{className:j()("history-item",{active:t,"just-clicked":this.state.justClicked,selected:a,deleting:l,focused:o})},bt.renderChecker(d,a,s,h),this.renderDateTag(e),this.state.isFavViewMode&&i.a.createElement(i.a.Fragment,null,i.a.createElement(vt,null),i.a.createElement(ft,{order:r,prefixes:c,hasSubs:m})),this.renderMetaIcon(e),i.a.createElement(pt,{sourceDevice:e.sourceDevice}),i.a.createElement(ht.a,{data:e,onClick:e=>this.handleClickTag(e)}),this.renderShortText(e,n,r),this.renderItemTools(e),bt.renderItemSize(e.length))}}var Et=bt;function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}const ft=({order:e,prefixes:t,hasSubs:a})=>{if(e>=3)return null;const s=e+1,n=t&&t[e],l=j()("tag order-number",{"tooltip has-tooltip-right":Boolean(n)}),o=`${n}${a?"":" (Requires Pro)"}`;return i.a.createElement("span",{className:l,"data-tooltip":o},"#",s)},vt=Object(pe.c)(()=>i.a.createElement("span",{className:"tag list-item-sort",title:"Change order"},i.a.createElement(T.a,{icon:W.I}))),wt=Object(pe.b)(e=>i.a.createElement(i.a.Fragment,null,i.a.createElement(Et,e))),Nt=Object(pe.a)(({items:e})=>i.a.createElement("div",null,e.map((e,t)=>{const a={order:t,...e};return i.a.createElement(wt,gt({key:e.itemHash,index:t},a))}))),kt=/pasteFav\d+/;const St=1,Ct=2,xt=3;class yt extends n.Component{constructor(e){super(e),this.state={checkedGeneral:Ct,hasError:!1,lastIndex:-1,dropdownShown:!1,cloudProSending:!1,cloudProSentHashArr:[],shortcutPrefixes:null},this.scrollContainer=null,this.checkboxGeneral=null,this.handleCheckedGeneral=this.handleCheckedGeneral.bind(this),this.handleItemCheck=this.handleItemCheck.bind(this),this.handleSetItemsFavorite=this.handleSetItemsFavorite.bind(this),this.handleDeleteItems=this.handleDeleteItems.bind(this),this.handleMergeClick=this.handleMergeClick.bind(this),this.handleCloudProSend=this.handleCloudProSend.bind(this),this.handleSetDropdown=this.handleSetDropdown.bind(this),this.handleClickOutsideDropdown=this.handleClickOutsideDropdown.bind(this),this.handleRefreshCloudPro=this.handleRefreshCloudPro.bind(this),this.handleOpenAutoSendSetting=this.handleOpenAutoSendSetting.bind(this),this.checkLoadMoreDebounced=Object(g.b)(this.checkLoadMore,350),this.dropdownRef=Object(n.createRef)()}componentDidMount(){if(!this.scrollContainer)throw new Error("Scroll container not found");var e;this.scrollContainer.addEventListener("scroll",()=>this.checkLoadMore()),window.addEventListener("resize",()=>this.checkLoadMoreDebounced()),this.state.shortcutPrefixes||(e=e=>this.setState({shortcutPrefixes:e}),chrome.commands.getAll(t=>{const a=t.filter(({name:e})=>e.match(kt)).map(({name:e,shortcut:t})=>[parseInt(e[e.length-1]),t]).sort((e,t)=>e[0]-t[0]).map(e=>e[1]);e(a)}))}componentDidUpdate(){this.state.hasError||this.syncGeneralCheckboxState()}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){m.a(e)}checkLoadMore(){const{isLoading:e,hasMore:t}=this.props,{loadMore:a}=this.props.itemActions;if(e||!t||!this.scrollContainer)return;const s=this.scrollContainer.offsetHeight;this.scrollContainer.scrollTop+160+s>this.scrollContainer.scrollHeight&&a()}syncGeneralCheckboxState(){let e;const t=this.props.selectedItems.size,a=this.props.items.length;t?t===a?(this.checkboxGeneral.indeterminate=!1,e=St):(this.checkboxGeneral.indeterminate=!0,e=xt):(this.checkboxGeneral.indeterminate=!1,e=Ct),this.state.checkedGeneral!==e&&this.setState({checkedGeneral:e})}handleCheckedGeneral(e){if(e.target.checked&&this.state.checkedGeneral!==xt){const{selectedItems:e}=this.props;this.props.items.forEach(t=>{e.add(t.hash)}),this.setState({checkedGeneral:St}),this.props.appActions.setSelected(e)}else this.setState({checkedGeneral:Ct}),this.props.appActions.setSelected(new Set);Object(s.b)(this.props.viewMode,"CheckedGeneral")}handleItemCheck(e,t,a){const{selectedItems:n}=this.props;let i;const l=this.props.items.findIndex(t=>t.hash===e);if(a&&this.state.lastIndex!==l){let{lastIndex:a}=this.state;i=this.props.items.slice(Math.min(a,l)+1,Math.max(a,l)+1).map(e=>e.hash),l<a&&i.push(e),t?i.forEach(e=>n.add(e)):i.forEach(e=>n.delete(e))}else t?n.add(e):n.delete(e);this.setState({lastIndex:l}),this.props.appActions.setSelected(n),Object(s.b)(this.props.viewMode,"Checked")}handleMergeClick(){const{items:e,selectedItems:t}=this.props,a=Array.from(t).map(t=>({hash:t,shortText:(e.find(e=>e.hash===t)||{}).shortText}));this.props.appActions.switchModal(!0,"merge",a),Object(s.a)("MultiTools","MergeShow")}handleExportClick(e){this.props.appActions.switchModal(!0,"export",e),Object(s.a)("MultiTools","ExportShow")}handleSetItemsFavorite(){const e=Array.from(this.props.selectedItems);this.props.itemActions.setFavorite(e),Object(s.a)("MultiTools","Favorite")}handleDeleteItems(){const e=Array.from(this.props.selectedItems);this.props.itemActions.deleteItems(e).then(e=>{const{selectedItems:t}=this.props;e.forEach(e=>t.delete(e)),this.props.appActions.setSelected(t),t.size||this.setState({checkedGeneral:Ct})}),Object(s.a)("MultiTools","Delete")}handleSetDropdown(){const e=!this.state.dropdownShown;this.setState({dropdownShown:e}),e&&document.addEventListener("mousedown",this.handleClickOutsideDropdown)}handleClickOutsideDropdown(e){this.dropdownRef&&!this.dropdownRef.current.contains(e.target)&&(this.setState({dropdownShown:!1}),document.removeEventListener("mousedown",this.handleClickOutsideDropdown))}handleCloudProSend(){this.setState({cloudProSending:!0});const e=Array.from(this.props.selectedItems);this.props.itemActions.cloudProSendItem(e).then(()=>{this.setState({cloudProSentHashArr:e,cloudProSending:!1,dropdownShown:!1})}),Object(s.b)("MultiTools","CloudProSend")}handleRefreshCloudPro(){this.props.itemActions.loadItemsBegin(),Object(s.b)(this.props.viewMode,"RefreshCloudPro")}handleOpenAutoSendSetting(){Object(s.b)(this.props.viewMode,"AutoSendOptions")}renderItemsCount(e){let t="Total items: ",a=this.props.totalCount;return null==a&&(a="..."),Object(S.d)(this.props.viewMode)&&(t="Favorites: "),Object(S.c)(this.props.viewMode)&&(t="Cloud Pro items: "),this.props.searchString&&(t="Found: "),e&&(t="Selected: ",a=i.a.createElement(i.a.Fragment,null,i.a.createElement("b",null,e)," / ",a)),i.a.createElement("div",{className:"count-info"},i.a.createElement("span",{className:"info"},i.a.createElement("span",null,t),i.a.createElement("span",null,a)))}renderListHeader(){const{selectedItems:e,viewMode:t}=this.props,{autoSyncCloudPro:a}=this.props.settings,s=e.size,n=Object(S.f)(t),l=Object(S.c)(t),o=Object(S.e)(t),{cloudProSending:r}=this.state;return i.a.createElement("div",{className:j()("history-item head",{"cloud-pro-view-header":l})},i.a.createElement("div",{className:"field item-checker"},i.a.createElement("input",{className:j()("is-checkradio is-small is-info",{"has-background-color":this.state.checkedGeneral===St,"is-circle":this.state.checkedGeneral===Ct}),type:"checkbox",id:"check-general",checked:this.state.checkedGeneral===St,onChange:this.handleCheckedGeneral,ref:e=>this.checkboxGeneral=e,disabled:n}),i.a.createElement("label",{htmlFor:"check-general"})),l&&i.a.createElement(T.a,{icon:W.B,size:"lg",className:"remote-storage-icon"}),this.renderItemsCount(s),i.a.createElement("div",{className:j()("buttons has-addons multi-tools",{muted:!s&&!l})},o&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"button favorite-items",onClick:this.handleSetItemsFavorite},i.a.createElement("span",{className:"icon is-small"},i.a.createElement(T.a,{icon:F.f})),i.a.createElement("span",null,"Favorite")),i.a.createElement("span",{className:"button",onClick:this.handleMergeClick},i.a.createElement("span",{className:"icon is-small"},i.a.createElement(T.a,{icon:F.a})),i.a.createElement("span",null,"Merge")),i.a.createElement("span",{className:"button",onClick:()=>this.handleExportClick(e)},i.a.createElement("span",{className:"icon is-small"},i.a.createElement(T.a,{icon:W.n})),i.a.createElement("span",null,"Export")),i.a.createElement("div",{className:j()("button dropdown is-right multi-tools-dropdown",{"is-active":this.state.dropdownShown}),ref:this.dropdownRef,onClick:this.handleSetDropdown},i.a.createElement("div",{className:"dropdown-trigger"},i.a.createElement("span",{className:"dropdown-multi"},i.a.createElement("span",{className:"icon is-small"},i.a.createElement(T.a,{icon:W.p})))),i.a.createElement("div",{className:"dropdown-menu"},i.a.createElement("div",{className:"dropdown-content"},i.a.createElement("a",{className:j()("dropdown-item",{disabled:r}),onClick:this.handleCloudProSend},i.a.createElement("span",{className:"icon is-small"},i.a.createElement(T.a,{icon:W.B})),i.a.createElement("span",null,"Send to Cloud Pro"),r&&i.a.createElement("span",{className:"icon is-small in-progress-icon"},i.a.createElement(T.a,{icon:W.k,spin:!0})))))),i.a.createElement("span",{className:"button delete-items",onClick:this.handleDeleteItems},i.a.createElement("span",{className:"icon is-small"},i.a.createElement(T.a,{icon:F.g})),i.a.createElement("span",null,"Delete"))),l&&i.a.createElement(i.a.Fragment,null,a&&i.a.createElement("a",{href:"/options.html#cloud",className:j()("auto-send-status external-link",{disabled:this.props.isLoading||!this.props.hasSubs}),onClick:this.handleOpenAutoSendSetting},i.a.createElement("span",null,"Auto-send enabled")),i.a.createElement("div",null,i.a.createElement("a",{className:j()("button refresh-cloud-pro",{disabled:this.props.isLoading||!this.props.hasSubs}),onClick:this.handleRefreshCloudPro},i.a.createElement("span",{className:"icon is-small"},i.a.createElement(T.a,{icon:W.E})),i.a.createElement("span",null,"Refresh"))))),i.a.createElement("div",{className:"is-inline-flex length-label"},"Length"))}renderList(){const{activeHash:e,searchString:t,deletingItems:a,viewMode:s,hasSubs:n}=this.props,{itemActions:i,appActions:l}=this.props,{selectedItems:o,focusItemIndex:r}=this.props,{cloudProSentHashArr:c=[]}=this.state,{sortMethod:m}=this.props.settings;return this.props.items.map((d,h)=>{const u=d.hash;return{itemHash:u,...{hasSubs:n,itemHash:u,viewMode:s,sortMethod:m,appActions:l,itemActions:i,searchString:t,data:d,isFavorite:d.isFavorite,itemCheck:this.handleItemCheck,isActive:e===u,isSelected:o.has(u),isDeleting:a.has(u),isFocused:h===r,isCloudProSent:c.includes(u),shortcutPrefixes:this.state.shortcutPrefixes}}})}static renderLoader(){return i.a.createElement("div",{className:"items-loader",key:0},i.a.createElement("span",{className:"loader"}),i.a.createElement("span",null,"Loading..."))}renderNoItems(){const{viewMode:e,hasSubs:t,hasCloudProAuth:a}=this.props;if(this.props.searchString&&this.props.searchString.length)return i.a.createElement("div",{className:"no-items"},i.a.createElement("h2",null,'No items found for "',this.props.searchString,'"'));if(Object(S.d)(e))return i.a.createElement("div",{className:"no-items"},i.a.createElement("h2",null,"You do not have favorite items"),i.a.createElement("h3",null,"Use button",i.a.createElement("button",{className:"button pseudo-action-btn"},i.a.createElement(T.a,{icon:F.f})),"to mark item as Favorite"),i.a.createElement("small",null,"Favorites are protected from deleting and available in context menu for input fields."));if(Object(S.c)(e)){const e={hasSubs:t,hasCloudProAuth:a,showSubs:this.props.appActions.showSubs};return i.a.createElement(ct,e)}return i.a.createElement("div",{className:"no-items"},i.a.createElement("h2",null,"Your clipboard history is empty"),i.a.createElement("h3",null,"Copy any text to see it here"))}render(){if(this.state.hasError)return i.a.createElement("h1",{className:"global-error-message"},i.a.createElement("div",{className:"has-text-danger is-size-5"},"Something went wrong and an error happened"),i.a.createElement("div",{className:"has-text-grey-dark is-size-6"}," Do not panic, we are working on it :)"));const e=Boolean(this.props.items&&0===this.props.items.length&&!this.props.isLoading),t=Object(S.c)(this.props.viewMode),a=this.props.hasSubs,s=e||t&&!a;return i.a.createElement("main",{className:"main-list-container"},this.renderListHeader(),i.a.createElement("div",{className:j()("history-items-list"),ref:e=>this.scrollContainer=e},s&&this.renderNoItems(),!s&&i.a.createElement(Nt,{items:this.renderList(),onSortEnd:this.props.appActions.handleChangeOrder,useDragHandle:!0}),this.props.isLoading&&yt.renderLoader()))}}var Ot=yt,At=a(231),Pt=a.n(At);function jt(){Object(g.g)(),Object(s.a)("Burger","Options")}var Mt=e=>{const[t,a]=Object(n.useState)(!1),[l,o]=Object(n.useState)(!1),r=Object(n.useRef)(),c=Object(n.useRef)(),m=e=>{r.current.contains(e.target)||(a(!1),o(!1))},d=t=>{a(!1),e.capturePage(t),Object(s.a)("Burger","Capture",t?"full":"area")};return Object(n.useEffect)(()=>{if(t)return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[t]),i.a.createElement("div",{ref:r,className:j()("is-small dropdown app-burger-menu is-right",{"is-active":t})},i.a.createElement("div",{className:"dropdown-trigger"},i.a.createElement("button",{className:"app-burger-button",onClick:()=>{a(!t),l&&o(!l),Object(s.a)("Burger","Show")}},i.a.createElement(T.a,{icon:W.d,size:"lg"})),e.redDot&&i.a.createElement("div",{className:"red-dot red-dot-burger"})),i.a.createElement("div",{className:"dropdown-menu",role:"menu"},i.a.createElement("div",{className:"dropdown-content"},i.a.createElement("a",{href:"#",className:j()("dropdown-item delete-all separated-bottom",{"confirm-shown":l}),onClick:t=>{t.target!==c.current?o(!l):(e.deleteAll(),o(!1),a(!1))}},i.a.createElement("span",{className:"main-btn-text"},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.O,color:"red"})),Object(S.c)(e.viewMode)?i.a.createElement("span",null,"Clear Cloud Pro"):i.a.createElement("span",null,"Delete All")),i.a.createElement("span",{className:"confirm",ref:c},"Confirm")),i.a.createElement("a",{className:"dropdown-item separated-bottom pro-features",onClick:()=>{e.showSubs("burger"),a(!1),Object(s.a)("Burger","Subscription")}},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.g,color:"green"})),i.a.createElement("span",null,i.a.createElement("b",null,"Pro")," Features"),e.redDot&&i.a.createElement("div",{className:"red-dot red-dot-menu-item"})),i.a.createElement("a",{className:"dropdown-item",onClick:()=>{a(!1),e.switchModal(!0,Y,null),Object(s.c)("Burger","AddText",e.hasSubs)}},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.C})),i.a.createElement("span",null,"Add text")),i.a.createElement("a",{className:"dropdown-item",onClick:()=>{a(!1),e.runPageWidget(),Object(s.c)("Burger","PageWidget",e.hasSubs)}},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.K})),i.a.createElement("span",null,"Run Clipboard Widget")),i.a.createElement("a",{className:"dropdown-item",onClick:()=>{a(!1),e.runFloatingMode(),Object(s.c)("Burger","FloatingMode",e.hasSubs)}},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:F.h})),i.a.createElement("span",null,"Floating Mode")),i.a.createElement("a",{className:"dropdown-item",onClick:()=>{e.setLocked(!0),a(!1),Object(s.c)("Burger","Lock",e.hasSubs)}},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.z})),i.a.createElement("span",null,"Lock now")),i.a.createElement("span",{className:"dropdown-item has-sub-dropdown"},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.e})),i.a.createElement("span",null,"Page screenshot"),i.a.createElement("span",{className:"sub-dropdown dropdown-content"},i.a.createElement("a",{className:"dropdown-item",onClick:()=>d(!0)},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.e})),i.a.createElement("span",null,"Full page")),i.a.createElement("a",{className:"dropdown-item",onClick:()=>d(!1)},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.e,color:"silver"})),i.a.createElement("span",null,"Visible area")))),i.a.createElement("a",{className:"dropdown-item separated-top",onClick:jt},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.l})),i.a.createElement("span",null,"Options & Backup")),i.a.createElement("a",{href:"#",className:"dropdown-item",onClick:()=>{e.switchModal(!0,"about"),a(!1),Object(s.a)("Burger","About")}},i.a.createElement("span",{className:"fa-icon"},i.a.createElement(T.a,{icon:W.w})),i.a.createElement("span",null,"About")))))};function It(e){const{viewMode:t,onChangeView:a}=e;return i.a.createElement("div",{className:"view-switch"},i.a.createElement("a",{className:j()("view-switch-item all",{active:Object(S.b)(t)}),onClick:()=>a(S.a.ALL)},"All"),i.a.createElement("a",{className:j()("view-switch-item fav",{active:Object(S.d)(t)}),onClick:()=>a(S.a.FAV)},"Fav"),i.a.createElement("a",{className:j()("view-switch-item cloud-pro",{active:Object(S.c)(t)}),onClick:()=>a(S.a.CLOUD_PRO)},"Cloud Pro"))}It.propTypes={viewMode:xe.a.string,onChangeView:xe.a.func};var Dt=It;function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}class Ft extends n.PureComponent{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handleChangeViewMode=this.handleChangeViewMode.bind(this),this.handleSetSearch=this.handleSetSearch.bind(this),this.handleClearSearch=this.handleClearSearch.bind(this),this.handleProClick=this.handleProClick.bind(this),this.handleLockClick=this.handleLockClick.bind(this)}handleChange(e){this.props.appActions.setSettings({appEnabled:e}),Object(s.a)("Header","AppEnabled")}handleChangeViewMode(e){this.props.appActions.setViewMode(e),Object(s.a)("Header","ViewMode",e)}handleSetSearch(e){const t=e.target.value;this.props.appActions.setSearch(t)}handleClearSearch(){this.props.appActions.setSearch(""),Object(s.a)("Header","ClearSearch")}handleProClick(){this.props.appActions.showSubs(),Object(s.a)("Header","GetPro")}handleLockClick(){this.props.appActions.setLocked(!0),Object(s.c)("Header","Lock",this.props.hasSubs)}renderMonitorSwitch(){const{appEnabled:e}=this.props.settings;if(void 0===e)return i.a.createElement("div",{className:"monitor-switch blank"});const t=e?"On":"Off";return i.a.createElement("div",{className:"monitor-switch tooltip has-tooltip-right","data-tooltip":"Clipboard monitor: "+t},i.a.createElement(Pt.a,{checked:e,onChange:this.handleChange,onColor:"#5cb85c",onHandleColor:"#7ed47e",handleDiameter:22,uncheckedIcon:!1,checkedIcon:!0,boxShadow:"rgba(0, 0, 0, 0.5) 0px 1px 1px",activeBoxShadow:"0px 0px 1px 6px rgba(0, 0, 0, 0.2)",height:16,width:36}))}renderSearchIcon(){return this.props.searchString?i.a.createElement("span",{className:"icon is-small is-right clear-search",onClick:this.handleClearSearch},i.a.createElement(T.a,{icon:W.M,color:"red"})):i.a.createElement("span",{className:"icon is-small is-right"},i.a.createElement(T.a,{icon:W.G}))}renderProButtons(){const{lockHidden:e}=this.props.settings;return i.a.createElement("div",{className:"pro-btns"},!e&&i.a.createElement("button",{className:"button has-text-grey-light is-small is-outlined",onClick:this.handleLockClick,title:"Lock now"},i.a.createElement(T.a,{icon:W.z})))}render(){const{viewMode:e}=this.props,t=Boolean(Object.keys(this.props.settings).length);return i.a.createElement("header",{className:"top-header"},this.renderMonitorSwitch(),t&&i.a.createElement(Dt,{onChangeView:this.handleChangeViewMode,viewMode:e}),this.renderProButtons(),i.a.createElement("div",{className:"control has-icons-right search-block"},i.a.createElement("input",{className:j()("input is-small",{extended:this.props.searchString}),type:"text",placeholder:"Search",value:this.props.searchString,onChange:this.handleSetSearch}),this.renderSearchIcon()),i.a.createElement(Mt,Tt({},this.props.appActions,{viewMode:e,hasSubs:this.props.hasSubs,redDot:this.props.redDot})))}}var Lt=Ft;function _t(e){const[t,a]=Object(n.useState)(!1);return i.a.createElement("span",null,i.a.createElement("span",null,"Please ",i.a.createElement("a",{onClick:()=>{a(!0),e.onLinkClick("notification")}},"Sign in with Google")," to use Cloud Pro"),t&&i.a.createElement("span",{className:"icon"},i.a.createElement(T.a,{icon:W.k,spin:!0})))}function zt(e){return i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>{e.showSubs("notification_pro")}},"Activate your Pro subscription to use Cloud Pro"))}function Bt({onComplete:e}){const t=Object(n.useCallback)(()=>{e("surveyAsk"),Object(s.a)("Survey","Close")},[e]),a=Object(n.useCallback)(()=>{Object(s.a)("Survey","ClickLink")},[]);return n.createElement("div",{className:"top-notification survey-ask"},n.createElement("span",null,"Please consider participating ",n.createElement("a",{className:"link external-link underlined",href:E.p,onClick:a},"in a short user survey")," to help us make the extension better"),n.createElement("button",{className:"delete close-btn",onClick:t}))}function Vt({onComplete:e}){const t=Object(n.useCallback)(()=>{e("actionRequired"),Object(s.a)("ActionRequired","Close")},[e]),a=Object(n.useCallback)(()=>{Object(s.a)("ActionRequired","ClickLink")},[]);return n.createElement("div",{className:"top-notification action-required"},n.createElement("span",null,n.createElement(T.a,{icon:W.r})," ","Action Required:"," ",n.createElement("a",{href:E.g,onClick:a,className:"external-link link"},"Update the payment method")),n.createElement("button",{className:"delete close-btn",onClick:t}))}function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}let Rt=!1;class Gt extends n.Component{constructor(e){super(e),this.state={hasError:!1,items:new Map,page:0,isLoading:!0,totalCount:null,settings:{},permissions:{},viewMode:"",activeHash:null,initLoaded:!1,hasMoreItems:!0,searchString:"",deletingItems:new Set,selectedItems:new Set,focusItemIndex:null,hasSubs:null,hasCloudProAuth:!1,promos:{},locked:!1,isFloatingMode:!1,modalShown:!1,modalType:"",modalData:null,notificationData:null,paymentData:null},this._runSearch=Object(g.b)(this._runSearch.bind(this),400),this._handleEditOrAddErr=this._handleEditOrAddErr.bind(this),this.itemActions={loadItemsBegin:this.loadItemsBegin.bind(this),loadMore:this.loadMore.bind(this),setActive:this.onSetActive.bind(this),setFavorite:this.onSetFavorite.bind(this),deleteItems:this.onDeleteItems.bind(this),showItem:this.showItem.bind(this),setTags:this.onSetTags.bind(this),cloudProSendItem:this.cloudProSendItem.bind(this),cloudProGetItem:this.cloudProGetItem.bind(this),editItem:this.editItem.bind(this),addText:this.addText.bind(this)},this.appActions={setViewMode:this.setViewMode.bind(this),setSettings:this.setSettings.bind(this),setSearch:this.setSearch.bind(this),setSelected:this.setSelected.bind(this),deleteAll:this.onDeleteAll.bind(this),switchModal:this.switchModal.bind(this),exportItems:this.exportItems.bind(this),mergeItems:this.mergeItems.bind(this),setNotif:this.setNotif.bind(this),dismissNotif:this.dismissNotif.bind(this),getAllTags:this.getAllTags.bind(this),showSubs:this.showSubs.bind(this),appendModalData:this.appendModalData.bind(this),runPageWidget:this.runPageWidget.bind(this),setLocked:this.setLocked.bind(this),capturePage:this.capturePage.bind(this),runFloatingMode:this.runFloatingMode.bind(this),completePromo:this.completePromo.bind(this),requestPermission:this.requestPermission.bind(this),showPaddlePayment:this.showPaddlePayment.bind(this),getPaddlePrice:u.a,handleChangeOrder:this.handleChangeOrder.bind(this)}}componentDidMount(){p.c().then(({settings:e,hasSubs:t,hasCloudProAuth:a,locked:s,promos:n={},permissions:i,paymentData:l})=>{const o=this.itemActions.loadItemsBegin(e.defaultViewMode),r=new Promise(o=>{this.setState({viewMode:e.defaultViewMode,hasSubs:t,hasCloudProAuth:a,settings:e,permissions:i,promos:n,locked:s,paymentData:l},o)});return Promise.all([o,r])}).then(()=>{this.state.promos.welcome?this.switchModal(!0,se):this.state.promos.updateModal?setTimeout(()=>{this.switchModal(!0,te,{hasSubs:this.state.hasSubs}),Object(s.a)("UpdateModal","Show")},50):this.state.promos.optimize?setTimeout(()=>{this.setState({modalShown:!0,modalType:Z}),Object(s.a)("Optimization","Show")},50):this.state.promos.subsCounter&&!this.state.hasSubs&&this.showSubs("promo")}),this.scrollListElement=document.querySelector(".history-items-list"),this.startMessageListener(),O().then(e=>this.setState({isFloatingMode:e}))}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){m.a(e)}loadItems(e=this.state.page,t=this.state.viewMode,a=!1){return new Promise(n=>{const i={page:e,isLoading:!0,viewMode:t};this.state.viewMode!==t&&(i.totalCount=null),!a&&Object(S.f)(t)&&(i.items=new Map);const l=this.state.viewMode;l!==t&&(Object(S.e)(t)&&Object(S.f)(l)||Object(S.e)(l)&&Object(S.f)(t))&&(i.items=new Map),this.setState(i),d.j(e,t,this.state.searchString).then(e=>{const s=e.items,{activeHash:i,totalCount:l}=e,o={isLoading:!1,totalCount:l,viewMode:t};if(s&&s.length||!this.state.initLoaded){const e=new Map;a&&this.state.items.forEach(t=>e.set(t.hash,t)),s.forEach(t=>e.set(t.hash,t)),o.items=e,o.activeHash=i,o.hasMoreItems=s.length>=E.f&&(Object(S.e)(t)||Object(S.c)(t)),o.initLoaded=!0,o.page=this.state.page+1}else o.hasMoreItems=!1,o.items=a?this.state.items:new Map;this.setState(o),n()}).then(()=>{this.state.promos.optimizeCloudPro&&Object(S.c)(this.state.viewMode)&&this.state.totalCount>E.e&&(this.switchModal(!0,ee,{settings:this.state.settings}),Object(s.a)("OptimizationCloudPro","Show"))}).catch(e=>{m.a(e)})})}startMessageListener(){chrome.runtime.onMessage.addListener((e={})=>{switch(e.action){case"reloadPage":window.location.reload();break;case"reloadData":this.state.viewMode!==S.a.CLOUD_PRO&&this.loadItems(0,void 0,!1);break;case"updateActiveHash":this.setState({activeHash:e.hash});break;case"updateFbAuthStatus":this.setState({hasCloudProAuth:e.hasCloudProAuth});break;case"updatePaymentData":this.setState({paymentData:e.paymentData,hasSubs:e.hasSubs})}})}loadMore(){return this.loadItems(this.state.page,this.state.viewMode,!0)}loadItemsBegin(e){return this.loadItems(0,e,!1)}onSetActive(e,t){e!==this.state.activeHash&&(this.setState({activeHash:e}),Object(N.a)(e,t).then(({dateLastCopied:t})=>{this._modifyItems(e,{dateLastCopied:t})}))}onSetFavorite(e,t){e=Array.isArray(e)?e:[e];const a=[],s=[];void 0===t&&(e.forEach(e=>{this._getItemVal(e,"isFavorite")?a.push(e):s.push(e)}),s.length?(e=s,t=!0):(e=a,t=!1)),d.r(e,t).then(()=>{if(this._modifyItems(e,{isFavorite:t}),Object(S.d)(this.state.viewMode)){const a=this.state.totalCount+(t?+e.length:-e.length);this.setState({totalCount:a})}}).catch(e=>{m.a(e)})}onDeleteItems(e){e=Array.isArray(e)?e:[e];const t=Object(S.c)(this.state.viewMode);if(e.length>1){const{activeHash:t}=this.state;e=e.filter(e=>e!==t)}e=e.filter(e=>!this._getItemVal(e,"isFavorite")||t);const{deletingItems:a}=this.state;return e.forEach(e=>a.add(e)),this.setState({deletingItems:a}),d.e(e,this.state.viewMode).then(t=>{let a=void 0!==t.cacheSize?t.cacheSize:this.state.totalCount-e.length;return a<0&&(a=0),setTimeout(()=>{const{items:t}=this.state;e.forEach(e=>{t.delete(e)}),Object(S.d)(this.state.viewMode)||this.setState({totalCount:a});const s=this.state.deletingItems;e.forEach(e=>s.delete(e)),this.setState({items:t,selectedItems:new Set,deletingItems:s})},250),e}).catch(e=>{m.a(e)})}showItem(e){const t=this.state.items.get(e);Object(k.a)(t,this.state.viewMode).then(({item:e})=>{this.setState({modalData:e})}),this.switchModal(!0,$,t)}onSetTags(e,t){d.q(e,t,this.state.viewMode).then(()=>{this._modifyItems(e,{tags:t})}),Object(s.a)("ItemView","SetTags")}cloudProSendItem(e){return this.state.hasSubs?this.state.hasCloudProAuth?d.c(e).then(()=>{this.setState({selectedItems:new Set})}):(this.setNotif({message:i.a.createElement(_t,{onLinkClick:g.f}),type:"info"}),Promise.reject()):(this.showSubs("cloudProSend"),Promise.reject())}cloudProGetItem(e){return d.b(e)}completePromo(e){return this.setState({promos:{...this.state.promos,[e]:!1}}),function(e){return Object(b.a)("completePromo",{promoName:e})}(e)}onDeleteAll(){d.d(this.state.viewMode).then(()=>this.itemActions.loadItemsBegin()).then(()=>{this.setState({selectedItems:new Set})}),Object(S.c)(this.state.viewMode)?Object(s.a)("Burger","ClearCloudPro"):Object(s.a)("Burger","DeleteAll")}setSettings(e){return h.b(e).then(()=>{const{settings:t}=this.state;this.setState({settings:{...t,...e}})})}setViewMode(e){e!==this.state.viewMode&&this.loadItemsBegin(e).then(()=>{this.scrollListElement&&"function"==typeof this.scrollListElement.scroll&&this.scrollListElement.scroll(0,0),this.setState({selectedItems:new Set,notificationData:null})})}setSearch(e,t=!1){t&&(e=`[${e}]`),this.setState({searchString:e,selectedItems:new Set},this._runSearch)}setSelected(e){this.setState({selectedItems:e})}switchModal(e,t="",a=null){var s;if(e&&function(e){return ie.includes(e)}(t)?(document.body.classList.add("full-height"),setTimeout(()=>{const e=document.querySelector(".modal.full-size .modal-card ");e&&(e.style.height="calc(100vh - 30px)")})):document.body.classList.remove("full-height"),this.setState({modalType:t,modalShown:e,modalData:a}),!e){const e=this.state.modalType;e===te&&this.appActions.completePromo("updateModal"),e===se&&this.appActions.completePromo("welcome")}null!==(s=this.state.promos)&&void 0!==s&&s.redDot&&t===ae&&this.completePromo("redDot")}exportItems(e){const t=Array.from(this.state.modalData);d.k(t).then(({items:t})=>{Object(f.b)(t,e)}).catch(e=>{m.a(e)}),Object(s.a)("MultiTools","ExportFinish",e)}mergeItems(e){const t=Array.from(this.state.modalData).map(e=>e.hash);d.m(t,e).then(({hash:e})=>(this.itemActions.loadItemsBegin(),e)).then(e=>{this.state.settings.copyFreshlyMerged&&this.onSetActive(e)}).then(()=>this.setState({selectedItems:new Set})).catch(e=>{e.err&&e.err.message&&e.err.message.includes("already exist")?this.setNotif({message:"Such item already exist",type:"warning"}):m.a(e)}),Object(s.a)("MultiTools","MergeFinish",e)}setNotif(e){this.setState({notificationData:{...e,close:this.dismissNotif}}),Object(s.a)("Notification","Show",e&&e.type?e.type:"")}dismissNotif(){this.setState({notificationData:null}),this.state.promos.updateNotification&&this.appActions.completePromo("updateNotification")}getAllTags(){return d.h().catch(e=>{m.a(e)})}handleKeyboardNavigation(e){y(e,this.state,{setState:this.setState.bind(this),itemActions:this.itemActions,appActions:this.appActions}),Rt||(Object(s.a)("Other","KeyboardNavigation"),Rt=!0)}showSubs(e){this.switchModal(!0,ae),Object(s.a)("Subscription","Show",e)}editItem(e=!1){const t=this.state.modalData,a=t.modalEditableText;return d.f(t,a,e).then(({hash:e})=>this.itemActions.loadItemsBegin().then(()=>e)).then(e=>{this.state.items.get(e)?this.showItem(e):this.switchModal(!1)}).catch(this._handleEditOrAddErr)}addText(){const e=this.state.modalData.modalEditableText,t=this.state.modalData.saveTo||S.a.ALL;if(Object(S.c)(t)){if(!this.state.hasSubs)return this.setNotif({message:i.a.createElement(zt,{showSubs:e=>this.showSubs(e)}),type:"info"}),Promise.reject();if(!this.state.hasCloudProAuth)return this.setNotif({message:i.a.createElement(_t,{onLinkClick:g.f}),type:"info"}),Promise.reject()}return d.a(e,t).then(({hash:e})=>this.itemActions.loadItemsBegin().then(()=>e)).then(()=>{this.switchModal(!1)}).catch(this._handleEditOrAddErr)}appendModalData(e){this.setState({modalData:{...this.state.modalData,...e}})}_handleEditOrAddErr(e){e&&e.err&&e.err.message&&e.err.message.includes("Key already exists")?this.setNotif({type:"warning",message:"Such element already exists"}):this.setNotif({type:"danger",message:"Unknown error :("})}runPageWidget(){this.state.hasSubs?this.state.isFloatingMode?alert("Not supported in Floating Mode: please run widget from the Popup"):d.n().then(()=>window.close()):this.showSubs("widget")}setLocked(e){e?this.state.hasSubs?p.g().then(()=>{this.setState({locked:e})}).catch(e=>{e&&["no_code","not_enabled"].includes(e.err)?this.setNotif({message:i.a.createElement("span",null,"Please enable lock and set password on ",i.a.createElement("a",{onClick:g.g},"Options")," page"),type:"info"}):(this.setNotif({message:e.err,type:"danger"}),m.a(e.err))}):this.showSubs("lock"):this.setState({locked:e})}capturePage(e){this.state.isFloatingMode?alert("Not supported in Floating Mode: please run capture from the Popup"):(p.a(e),window.close())}runFloatingMode(){this.state.hasSubs?p.f().then(()=>{this.state.isFloatingMode||window.close()}):this.showSubs("floating")}requestPermission(e){p.e(e).then(t=>{void 0!==t[e]&&this.setState({permissions:t[e]})})}showPaddlePayment(){chrome.tabs.create({url:"/activation.html"})}getTopNotification(){var e,t;return null!==(e=this.state.promos)&&void 0!==e&&e.actionRequired?i.a.createElement(Vt,{onComplete:this.appActions.completePromo}):null!==(t=this.state.promos)&&void 0!==t&&t.surveyAsk?i.a.createElement(Bt,{onComplete:this.appActions.completePromo}):null}handleChangeOrder({oldIndex:e,newIndex:t}){if(!this.state.hasSubs)return void this.showSubs("fav_order");const a=Array.from(this.state.items),s=a[e];null!=s&&s.length&&d.p(s[1].hash,e,t),this.setState(()=>{const s=x()(a,e,t);return{items:new Map(s)}})}_runSearch(){this.itemActions.loadItemsBegin(),this.state.searchString&&Object(s.a)("Header","Search")}_modifyItems(e,t){e=Array.isArray(e)?e:[e];const{items:a}=this.state;e.forEach(e=>{const s=this.state.items.get(e),n={...s,...t};a.set(e,n)});const{modalShown:s,modalData:n,modalType:i}=this.state;if(s&&n&&i===$&&e.includes(n.hash)){const e={...n,...t};this.setState({modalData:e})}this.setState({items:a})}_getItemVal(e,t){const a=this.state.items.get(e);if(!a)throw new Error("Item for reading not found");return a[t]}render(){if(this.state.hasError)return i.a.createElement("h1",{className:"global-error-message"},i.a.createElement("div",{className:"has-text-danger is-size-5"},"Something went wrong and error happened"),i.a.createElement("div",{className:"has-text-grey-dark is-size-6"}," Do not panic, we are working on it :)"));const e=Array.from(this.state.items.values()),{activeHash:t,settings:a,focusItemIndex:s}=this.state,n=this.state.notificationData,l=this.state.promos&&this.state.promos.redDot;return this.state.locked?i.a.createElement(A.a,{setLockedState:this.appActions.setLocked,unlockAction:p.h}):i.a.createElement(i.a.Fragment,null,i.a.createElement(Lt,{appActions:this.appActions,settings:a,viewMode:this.state.viewMode,searchString:this.state.searchString,redDot:l,hasSubs:this.state.hasSubs}),this.getTopNotification(),i.a.createElement(Ot,{items:e,settings:a,activeHash:t,totalCount:this.state.totalCount,isLoading:this.state.isLoading,hasMore:this.state.hasMoreItems,itemActions:this.itemActions,appActions:this.appActions,viewMode:this.state.viewMode,searchString:this.state.searchString,deletingItems:this.state.deletingItems,selectedItems:this.state.selectedItems,focusItemIndex:s,hasSubs:this.state.hasSubs,hasCloudProAuth:this.state.hasCloudProAuth}),i.a.createElement(ot,{isShown:this.state.modalShown,type:this.state.modalType,modalData:this.state.modalData,itemActions:this.itemActions,appActions:this.appActions,activeHash:t,settings:a,permissions:this.state.permissions,viewMode:this.state.viewMode,allTags:this.state.allTags,hasSubs:this.state.hasSubs,paymentData:this.state.paymentData}),i.a.createElement(D,Ht({dismiss:this.appActions.dismissNotif},n)),i.a.createElement(w.a,{isDisabled:this.state.modalShown,handleKeys:["up","down","f","enter"],onKeyEvent:e=>this.handleKeyboardNavigation(e)}))}}var qt=Gt;(new c.a).applyTheme(),Object(r.a)(),Object(s.e)("Popup"),o.a.render(i.a.createElement(qt,null),document.getElementById("root"));document.body.addEventListener("click",e=>{const t=e.target;if(t&&t.matches("a.external-link")){const a=t.getAttribute("href");a&&(e.preventDefault(),setTimeout(()=>{chrome.tabs.create({url:a})},150))}})},77:function(e,t,a){"use strict";var s=a(15),n=a(10);t.a=function(e,t){if(e.length<=n.n){const t={...e};return t.text=t.shortText,Promise.resolve({item:t})}{const a=e.hash;return s.i(a,t).then(({item:e})=>({item:e}))}}},84:function(e,t,a){"use strict";var s=a(15),n=a(42),i=a(22);t.a=function(e,t){return s.i(e,t).then(({item:a})=>{null!=a&&a.text;const l=a.text;return Object(n.a)(l)?s.o(e,t):(console.error("Not copied"),i.a("Not copied"),Promise.reject("Not copied"))})}},85:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(0),n=a.n(s);function i({data:e,onClick:t}){const{tags:a=[]}=e,i=Object(s.useCallback)(e=>{"function"==typeof t&&t(e)},[t],[]);if(a.length){const e=a.slice(0,3);let t=null;if(a.length>3){const e=a.slice(3);t=n.a.createElement("span",{className:"tag tooltip has-tooltip-right","data-tooltip":e.join(", "),key:"__more-tags"},n.a.createElement("span",{className:"tag-text more-tags"},"+",e.length))}const s=e.map(e=>"string"!=typeof e?null:n.a.createElement("span",{className:"tag",key:e,title:e,onClick:()=>i(e)},n.a.createElement("span",{className:"tag-text"},e)));return t&&s.push(t),n.a.createElement("div",{className:"item-tags"},s)}return null}}});